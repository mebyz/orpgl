
var initGrass = function() {
    var loader = new THREE.OBJLoader( );
    loader.load( 'models/buildings/grassfield.obj', function ( object) {
        object.traverse( function ( child ) {
            if ( child instanceof THREE.Mesh ) {
                var texture = THREE.ImageUtils.loadTexture( 'textures/grass_billboard.png' );
                texture.magFilter = THREE.NearestFilter;
                texture.minFilter = THREE.LinearMipMapLinearFilter;

                var material = getWindMaterial(1.2,0.1,0.1);
                var _ref,i,_i;
                for (i = _i = 0, _ref = child.geometry.vertices.length - 1; _i <= _ref; i = _i += 1) {
                    var v = child.geometry.vertices[i];
                    var r = ((v.y-10) / 100) + 0.5;
                    material.attributes.windFactor.value[i] = r*5;
                }
                var mesh = new THREE.Mesh( child.geometry,material);//, new THREE.MeshLambertMaterial( { map: texture, ambient: 0xbbbbbb, side:THREE.DoubleSide,transparent: true,depthWrite: false} ) );
                app.Config.scene.add( mesh );
            }               
        });
    });


    loader.load( 'models/buildings/grassfield4.obj', function ( object) {
        object.traverse( function ( child ) {
            if ( child instanceof THREE.Mesh ) {
                var texture = THREE.ImageUtils.loadTexture( 'textures/grass_billboard.png' );
                texture.magFilter = THREE.NearestFilter;
                texture.minFilter = THREE.LinearMipMapLinearFilter;

                var material = getWindMaterial(0.8,0.2,0.2);

                var _ref,i,_i;

                for (i = _i = 0, _ref = child.geometry.vertices.length - 1; _i <= _ref; i = _i += 1) {
                    var v = child.geometry.vertices[i];
                    var r = ((v.y-10) / 100) + 0.5;
                    material.attributes.windFactor.value[i] = r*5;
                }

            var mesh = new THREE.Mesh( child.geometry,material);//, new THREE.MeshLambertMaterial( { map: texture, ambient: 0xbbbbbb, side:THREE.DoubleSide,transparent: true,depthWrite: false} ) );
            app.Config.scene.add( mesh );

        }               
        });
    });


    loader.load( 'models/buildings/grassfield2.obj', function ( object) {
        object.traverse( function ( child ) {
            if ( child instanceof THREE.Mesh ) {
                var texture = THREE.ImageUtils.loadTexture( 'textures/grass_billboard.png' );
                texture.magFilter = THREE.NearestFilter;
                texture.minFilter = THREE.LinearMipMapLinearFilter;

                var material = getWindMaterial(0.8,0.3,0.1);

                var _ref,i,_i;

                for (i = _i = 0, _ref = child.geometry.vertices.length - 1; _i <= _ref; i = _i += 1) {
                    var v = child.geometry.vertices[i];
                    var r = ((v.y-10) / 100) + 0.5;
                    material.attributes.windFactor.value[i] = r*5;
                }

            var mesh = new THREE.Mesh( child.geometry,material);//, new THREE.MeshLambertMaterial( { map: texture, ambient: 0xbbbbbb, side:THREE.DoubleSide,transparent: true,depthWrite: false} ) );
            app.Config.scene.add( mesh );

        }               
        });
    });


    loader.load( 'models/buildings/grassfield3.obj', function ( object) {
        object.traverse( function ( child ) {
            if ( child instanceof THREE.Mesh ) {
                var texture = THREE.ImageUtils.loadTexture( 'textures/grass_billboard.png' );
                texture.magFilter = THREE.NearestFilter;
                texture.minFilter = THREE.LinearMipMapLinearFilter;

                var material = getWindMaterial(0.6,0.5,0.1);

                var _ref,i,_i;

                for (i = _i = 0, _ref = child.geometry.vertices.length - 1; _i <= _ref; i = _i += 1) {
                    var v = child.geometry.vertices[i];
                    var r = ((v.y-10) / 100) + 0.5;
                    material.attributes.windFactor.value[i] = r*5;
                }

            var mesh = new THREE.Mesh( child.geometry,material);//, new THREE.MeshLambertMaterial( { map: texture, ambient: 0xbbbbbb, side:THREE.DoubleSide,transparent: true,depthWrite: false} ) );
            app.Config.scene.add( mesh );

        }               
        });
    });

/*


      var matrix = new THREE.Matrix4();

      var worldWidth = 100, worldDepth = 100,
      worldHalfWidth = worldWidth / 2, worldHalfDepth = worldDepth / 2;
        var pxGeometry = new THREE.PlaneGeometry( 30, 30 );
        pxGeometry.applyMatrix( matrix.makeRotationY( Math.PI / 2 ) );
        //pxGeometry.applyMatrix( matrix.makeTranslation( 50, 0, 0 ) );

        var geometry = new THREE.Geometry();
        
        for ( var z = 0; z < worldDepth; z ++ ) {
          for ( var x = 0; x < worldWidth; x ++ ) {
            
            var dummy = new THREE.Mesh();
            var dx = x*100+10+((Math.random()*100)-50);
            var dz = z*100+10+((Math.random()*100)-50);
            dummy.position.x = dx;
            dummy.position.y = getHeight(dx,dz,true);
            dummy.position.z = dz;

                dummy.rotation.y = Math.floor(Math.random()*60);
            if (dummy.position.y>-40 &&dummy.position.y<60) {

              dummy.geometry = pxGeometry;
              THREE.GeometryUtils.merge( geometry, dummy );
           }

          }

        }

        var texture = THREE.ImageUtils.loadTexture( 'textures/grass_billboard.png' );
        texture.magFilter = THREE.NearestFilter;
        texture.minFilter = THREE.LinearMipMapLinearFilter;

      var material = getWindMaterial();

     var _ref,i,_i;

      for (i = _i = 0, _ref = geometry.vertices.length - 1; _i <= _ref; i = _i += 1) {
        var v = geometry.vertices[i];
        var r = ((v.y-30) / 100) + 0.5;
        material.attributes.windFactor.value[i] = r*5;
      }

        var mesh = new THREE.Mesh( geometry,material);//, new THREE.MeshLambertMaterial( { map: texture, ambient: 0xbbbbbb, side:THREE.DoubleSide,transparent: true,depthWrite: false} ) );
        //mesh.position.y = 300;
        scene.add( mesh );

        var exporter = new THREE.OBJExporter();
        console.log(exporter.parse(geometry));
        */
    };

    function loadNature() {
        var loader = new THREE.OBJLoader( );


        var posArray = [{"x":799.9795186333358,"y":0,"z":4234.450422227383},{"x":5811.920040287077,"y":0,"z":417.03314520418644},{"x":6296.71577597037,"y":0,"z":9608.465214259923},{"x":6160.754403099418,"y":0,"z":9630.451584234834},{"x":8758.59433785081,"y":0,"z":7448.091823607683},{"x":6212.2790003195405,"y":0,"z":3699.914610479027},{"x":7583.643915131688,"y":0,"z":6521.416557952762},{"x":6838.185274973512,"y":0,"z":8252.691831439734},{"x":658.2057964988053,"y":0,"z":5909.1185056604445},{"x":9081.61856001243,"y":0,"z":1015.8223798498511},{"x":5284.342868253589,"y":0,"z":3781.0661364346743},{"x":6413.972456939518,"y":0,"z":7333.222660236061},{"x":5845.18839372322,"y":0,"z":4127.198008354753},{"x":9650.945323519409,"y":0,"z":3542.261100374162},{"x":7380.715205799788,"y":0,"z":1503.4589520655572},{"x":2943.5269720852375,"y":0,"z":6794.600184075534},{"x":1748.4883219003677,"y":0,"z":103.94711745902896},{"x":5824.669995345175,"y":0,"z":8369.40408218652},{"x":9075.565319508314,"y":0,"z":6708.553519565612},{"x":7913.81637332961,"y":0,"z":7690.124930813909},{"x":2805.9683786705136,"y":0,"z":1649.8282481916249},{"x":1707.2643782012165,"y":0,"z":3671.0270773619413},{"x":4983.027637936175,"y":0,"z":2971.336771734059},{"x":1781.6199804656208,"y":0,"z":150.5056140013039},{"x":8444.762320723385,"y":0,"z":640.3070781379938},{"x":9018.043163232505,"y":0,"z":8861.381649039686},{"x":3176.1481147259474,"y":0,"z":2001.0083937086165},{"x":3825.907069258392,"y":0,"z":7433.224744163454},{"x":9680.550878401846,"y":0,"z":2741.312531288713},{"x":5944.019751623273,"y":0,"z":6514.9226621724665},{"x":7619.147375226021,"y":0,"z":7564.4575618207455},{"x":3920.578225515783,"y":0,"z":2766.7991910129786},{"x":5636.456133797765,"y":0,"z":6618.224133271724},{"x":95.86491854861379,"y":0,"z":454.514988232404},{"x":5794.949259143323,"y":0,"z":6037.431615404785},{"x":4005.8815735392272,"y":0,"z":1673.9128157496452},{"x":6054.797610267997,"y":0,"z":1660.8194913715124},{"x":4982.749577611685,"y":0,"z":9172.295299358666},{"x":3982.974379323423,"y":0,"z":7568.232114426792},{"x":3170.2283304184675,"y":0,"z":6116.0902585834265},{"x":7925.26901466772,"y":0,"z":3008.3041032776237},{"x":7533.853549975902,"y":0,"z":1313.3983290754259},{"x":5201.3645227998495,"y":0,"z":8396.449284628034},{"x":159.20719364657998,"y":0,"z":8280.38670355454},{"x":3112.699475605041,"y":0,"z":1742.8657738491893},{"x":782.9565997235477,"y":0,"z":8539.637294597924},{"x":6638.499235268682,"y":0,"z":8267.26242667064},{"x":4037.3060503043234,"y":0,"z":812.745236326009},{"x":2923.6347042024136,"y":0,"z":5714.1044503077865},{"x":1250.4405016079545,"y":0,"z":15.299806836992502},{"x":1262.0128248818219,"y":0,"z":5367.294675670564},{"x":3823.2947513461113,"y":0,"z":422.4803578108549},{"x":277.43975864723325,"y":0,"z":3774.695598986},{"x":6015.177185181528,"y":0,"z":8626.597274560481},{"x":5235.613693948835,"y":0,"z":4320.755337830633},{"x":1569.021581672132,"y":0,"z":4799.064341932535},{"x":6719.826897606254,"y":0,"z":6594.314510002732},{"x":5481.852840166539,"y":0,"z":5040.962265338749},{"x":2134.1084293089807,"y":0,"z":46.04361252859235},{"x":1907.7975838445127,"y":0,"z":153.5477372817695},{"x":888.1948981434107,"y":0,"z":3788.175801746547},{"x":4971.658145077527,"y":0,"z":2546.052481047809},{"x":5748.7132819369435,"y":0,"z":5685.615884140134},{"x":1057.7247547917068,"y":0,"z":283.853339497},{"x":6964.802681468427,"y":0,"z":3425.6195882335305},{"x":8580.236663110554,"y":0,"z":2597.9706179350615},{"x":6094.637489877641,"y":0,"z":296.0164425894618},{"x":8003.882416523993,"y":0,"z":7819.269907195121},{"x":2914.8540319874883,"y":0,"z":6741.228287573904},{"x":7130.297550465912,"y":0,"z":6151.8960213288665},{"x":3374.9998663552105,"y":0,"z":2124.0145503543317},{"x":2529.643524903804,"y":0,"z":1207.605293020606},{"x":8383.06701509282,"y":0,"z":7912.030932493508},{"x":7619.836905505508,"y":0,"z":7341.941688209772},{"x":3810.1664814166725,"y":0,"z":810.5557831004262},{"x":1032.1594378910959,"y":0,"z":303.0098765157163},{"x":1882.923839148134,"y":0,"z":4516.998489852995},{"x":6346.94289881736,"y":0,"z":4064.3203002400696},{"x":5852.659284137189,"y":0,"z":4382.775463163853},{"x":4204.7798237763345,"y":0,"z":2541.115847416222},{"x":7727.358886040747,"y":0,"z":746.3877811096609},{"x":1995.237716473639,"y":0,"z":5164.897299837321},{"x":6419.163662940264,"y":0,"z":2194.9455607682467},{"x":9606.934515759349,"y":0,"z":2635.885844938457},{"x":1597.6847033016384,"y":0,"z":4263.361047487706},{"x":6663.612879347056,"y":0,"z":6544.486451894045},{"x":2409.0873333625495,"y":0,"z":622.8671013377607},{"x":2887.882459908724,"y":0,"z":265.8978430554271},{"x":6001.574376132339,"y":0,"z":5610.0214016623795},{"x":2600.647574290633,"y":0,"z":1121.288405265659},{"x":4580.4021204821765,"y":0,"z":9002.2330195643},{"x":6556.139532476664,"y":0,"z":3605.907717719674},{"x":115.43320259079337,"y":0,"z":5834.530657157302},{"x":3875.2130791544914,"y":0,"z":8751.547196879983},{"x":8934.940837789327,"y":0,"z":8204.235513694584},{"x":1581.3126205466688,"y":0,"z":5826.658117584884},{"x":4253.832306712866,"y":0,"z":7047.2840941511095},{"x":6718.225865624845,"y":0,"z":2402.3071653209627},{"x":5741.29854561761,"y":0,"z":4406.132681760937},{"x":6477.111084386706,"y":0,"z":2931.6816735081375},{"x":2444.137397687882,"y":0,"z":4907.6872249133885},{"x":6249.506403692067,"y":0,"z":7684.638740029186},{"x":5402.401008177549,"y":0,"z":8920.943108387291},{"x":6130.645144730806,"y":0,"z":4959.3779584392905},{"x":2013.8482539914548,"y":0,"z":4685.164410620928},{"x":4113.34503442049,"y":0,"z":2462.7035902813077},{"x":4029.2523289099336,"y":0,"z":7161.8227660655975},{"x":1924.782379064709,"y":0,"z":9004.55438066274},{"x":3731.3084304332733,"y":0,"z":1692.274126689881},{"x":7225.986113771796,"y":0,"z":2996.943611651659},{"x":8788.072175811976,"y":0,"z":1259.6787908114493},{"x":7198.437985498458,"y":0,"z":2506.1630457639694},{"x":5498.09229793027,"y":0,"z":8758.997968398035},{"x":2100.3543422557414,"y":0,"z":1109.8999995738268},{"x":5838.923205155879,"y":0,"z":2035.6750837527215},{"x":9687.219308689237,"y":0,"z":7141.270702704787},{"x":835.3048167191446,"y":0,"z":5990.059508476406},{"x":5898.89437193051,"y":0,"z":8788.879092317075},{"x":3107.8787450678647,"y":0,"z":6263.960816431791},{"x":5910.1996989920735,"y":0,"z":8547.824553679675},{"x":1433.8549668900669,"y":0,"z":5095.752563793212},{"x":5592.692103236914,"y":0,"z":2797.578084282577},{"x":2962.282281368971,"y":0,"z":3073.0647523887455},{"x":5367.294452153146,"y":0,"z":4001.8548164516687},{"x":1420.1053325086832,"y":0,"z":78.68407294154167},{"x":1458.984613418579,"y":0,"z":8827.925864607096},{"x":8961.92661486566,"y":0,"z":6963.8627814128995},{"x":5978.228242602199,"y":0,"z":6806.76722433418},{"x":4089.6018291823566,"y":0,"z":7766.680144704878},{"x":6889.362307265401,"y":0,"z":2529.1753001511097},{"x":4107.881577219814,"y":0,"z":1312.3383885249496},{"x":7609.6040033735335,"y":0,"z":8061.213516630232},{"x":6539.2757137306035,"y":0,"z":7515.683427918702},{"x":3380.8864769525826,"y":0,"z":666.6366825811565},{"x":6439.729705452919,"y":0,"z":7836.3092872314155},{"x":817.2688237391412,"y":0,"z":3366.8822865001857},{"x":6583.718988113105,"y":0,"z":6318.378986325115},{"x":6055.37289287895,"y":0,"z":5673.9522353746},{"x":6215.630657970905,"y":0,"z":1759.209930896759},{"x":2485.9743332490325,"y":0,"z":6622.916266787797},{"x":3480.3051501512527,"y":0,"z":883.5002616979182},{"x":6232.720001135021,"y":0,"z":5900.7032960653305},{"x":5161.198475398123,"y":0,"z":2937.71913042292},{"x":8298.86005492881,"y":0,"z":8669.569455087185},{"x":8912.047455087304,"y":0,"z":7007.401196751744},{"x":3825.3560196608305,"y":0,"z":9713.687223847955},{"x":369.6244698949158,"y":0,"z":7960.840470623225},{"x":3055.464462377131,"y":0,"z":2264.375099912286},{"x":5882.302857935429,"y":0,"z":2642.5181794911623},{"x":3244.235720485449,"y":0,"z":3187.8966139629483},{"x":5616.848715581,"y":0,"z":9630.349189974368},{"x":2844.013520516455,"y":0,"z":376.4963150024414},{"x":2158.7160928174853,"y":0,"z":347.65579737722874},{"x":6192.0794495381415,"y":0,"z":8459.424595348537},{"x":6543.641441967338,"y":0,"z":8673.332878388464},{"x":1423.6761908978224,"y":0,"z":4961.4837393164635},{"x":5225.408051628619,"y":0,"z":3618.358694948256},{"x":6845.629001036286,"y":0,"z":5515.451114624739},{"x":8654.562975279987,"y":0,"z":3097.7189145050943},{"x":6845.878267195076,"y":0,"z":166.39986541122198},{"x":2252.540949266404,"y":0,"z":5716.278471518308},{"x":2771.5512667782605,"y":0,"z":2260.724857915193},{"x":6917.692408896983,"y":0,"z":3797.3577925004065},{"x":4774.802410975099,"y":0,"z":7936.274593230337},{"x":8969.29455222562,"y":0,"z":8215.894422028214},{"x":176.4298416674137,"y":0,"z":4945.525627117604},{"x":4934.041744563729,"y":0,"z":8266.011960804462},{"x":5983.762764371932,"y":0,"z":6043.695223052055},{"x":989.6742505952716,"y":0,"z":5344.520558137447},{"x":5862.486476544291,"y":0,"z":8773.999598342925},{"x":6683.103335089982,"y":0,"z":8566.389884799719},{"x":9040.682567283511,"y":0,"z":6756.11122045666},{"x":2510.7773416675627,"y":0,"z":1074.1154733113945},{"x":5645.347968675196,"y":0,"z":8434.629829134792},{"x":6430.360032245517,"y":0,"z":5394.048169255257},{"x":167.65671549364924,"y":0,"z":8795.594815164804},{"x":8527.60677691549,"y":0,"z":3138.9812170527875},{"x":143.69356911629438,"y":0,"z":5285.575850866735},{"x":4733.172687701881,"y":0,"z":675.6374798715115},{"x":5690.361075103283,"y":0,"z":2891.5028367191553},{"x":3129.8456457443535,"y":0,"z":492.10311844944954},{"x":5925.734636839479,"y":0,"z":5839.683231897652},{"x":4462.136197835207,"y":0,"z":7568.840128369629},{"x":4298.0904201976955,"y":0,"z":2847.4152740091085},{"x":5643.726731650531,"y":0,"z":2568.0473004467785},{"x":2327.385628595948,"y":0,"z":5160.609588492662},{"x":7061.34028499946,"y":0,"z":3746.842397376895},{"x":1396.632802207023,"y":0,"z":3766.9509067200124},{"x":8605.436910875142,"y":0,"z":2302.717389538884},{"x":394.6661250665784,"y":0,"z":4656.393732875586},{"x":3049.084071535617,"y":0,"z":718.1788817979395},{"x":4039.645716547966,"y":0,"z":392.92618865147233},{"x":6141.523993574083,"y":0,"z":4205.588006880134},{"x":5169.482999481261,"y":0,"z":8283.767693210393},{"x":5428.5218310542405,"y":0,"z":7743.334420956671},{"x":7257.493289653212,"y":0,"z":504.86793741583824},{"x":1501.4595072716475,"y":0,"z":9965.143078006804},{"x":7202.443752903491,"y":0,"z":8653.544771950692},{"x":8856.103897560388,"y":0,"z":3249.1330872289836},{"x":4934.402268845588,"y":0,"z":3321.4778383262455},{"x":1795.691151637584,"y":0,"z":3819.9669029563665},{"x":252.96723702922463,"y":0,"z":5053.878535982221},{"x":6916.649364866316,"y":0,"z":2938.3390792645514},{"x":6724.9813210219145,"y":0,"z":1272.3179697059095},{"x":8595.523263793439,"y":0,"z":8283.265153877437},{"x":6360.177956521511,"y":0,"z":964.7054434753954},{"x":5440.396072808653,"y":0,"z":2475.957996211946},{"x":642.2935426235199,"y":0,"z":5967.9753123782575},{"x":1804.1917937807739,"y":0,"z":3912.8351770341396},{"x":1184.3742243945599,"y":0,"z":8841.804314870387},{"x":5754.16753301397,"y":0,"z":3711.174966301769},{"x":7635.121692437679,"y":0,"z":2134.6781007014215},{"x":7569.491993635893,"y":0,"z":8829.19174619019},{"x":195.40704786777496,"y":0,"z":3230.0677290186286},{"x":9642.162839882076,"y":0,"z":1066.720352973789},{"x":7723.575294949114,"y":0,"z":1574.8994494788349},{"x":8175.262832082808,"y":0,"z":1364.7139258682728},{"x":8577.429770957679,"y":0,"z":2418.0785310454667},{"x":6147.794022690505,"y":0,"z":519.6406599134207},{"x":9100.532508455217,"y":0,"z":8300.727279856801},{"x":5469.156983308494,"y":0,"z":8815.112959127873},{"x":6769.354396965355,"y":0,"z":6914.959065616131},{"x":5319.736457895488,"y":0,"z":4387.358264066279},{"x":8613.549983128905,"y":0,"z":8794.979907106608},{"x":6413.018947932869,"y":0,"z":7666.883957572281},{"x":6579.10795416683,"y":0,"z":708.721166010946},{"x":1675.5275963805616,"y":0,"z":9970.22463241592},{"x":5479.777851141989,"y":0,"z":661.0017828643322},{"x":2592.6100905053318,"y":0,"z":294.1288030706346},{"x":2307.463672477752,"y":0,"z":3738.9141437597573},{"x":832.6508640311658,"y":0,"z":4435.792823787779},{"x":5144.132385030389,"y":0,"z":613.0424537695944},{"x":7600.355159956962,"y":0,"z":6980.448875110596},{"x":817.8408071398735,"y":0,"z":5585.213208105415},{"x":8177.774969954044,"y":0,"z":8279.409788083285},{"x":5464.240964502096,"y":0,"z":1140.669323503971},{"x":5682.247881777585,"y":0,"z":7996.622493956238},{"x":5539.139695465565,"y":0,"z":4998.722341842949},{"x":9663.356861565262,"y":0,"z":8079.597656615078},{"x":6676.539776381105,"y":0,"z":6646.776464767754},{"x":6183.44716494903,"y":0,"z":5968.973287381232},{"x":6580.538640264422,"y":0,"z":4045.4206126742065},{"x":8441.70146388933,"y":0,"z":1361.3311969675124},{"x":8883.808620739728,"y":0,"z":2267.2838112339377},{"x":2038.2991200312972,"y":0,"z":750.6316225044429},{"x":8522.290508262813,"y":0,"z":2340.1654325425625},{"x":4359.918374102563,"y":0,"z":7093.629096634686},{"x":5472.9617782868445,"y":0,"z":2168.018373195082},{"x":9022.505427710712,"y":0,"z":6481.889837887138},{"x":6850.598212331533,"y":0,"z":3683.7472300976515},{"x":6471.50072036311,"y":0,"z":1756.368784699589},{"x":8889.545181300491,"y":0,"z":9647.224580403417},{"x":1716.6503216139972,"y":0,"z":70.07739739492536},{"x":2156.844036653638,"y":0,"z":4995.96371781081},{"x":5252.340859733522,"y":0,"z":2986.739259213209},{"x":1168.4808996506035,"y":0,"z":3624.0672413259745},{"x":61.654974706470966,"y":0,"z":5430.0142684951425},{"x":3082.1133963763714,"y":0,"z":132.24369380623102},{"x":6284.046790096909,"y":0,"z":3808.7764102965593},{"x":4645.988899283111,"y":0,"z":8147.509461268783},{"x":4016.5756503120065,"y":0,"z":7726.79673274979},{"x":5383.52977251634,"y":0,"z":8725.897145923227},{"x":294.11945724859834,"y":0,"z":4610.664378851652},{"x":4640.05432324484,"y":0,"z":1502.2647147998214},{"x":8007.987295277417,"y":0,"z":2255.8916569687426},{"x":2606.4911670982838,"y":0,"z":6597.676367964596},{"x":8476.436974015087,"y":0,"z":7803.272474557161},{"x":3310.4586065746844,"y":0,"z":7009.682331699878},{"x":6981.728095561266,"y":0,"z":7406.863442156464},{"x":3032.7678262256086,"y":0,"z":5694.092593621463},{"x":3901.607485022396,"y":0,"z":3186.144973151386},{"x":6292.881541885436,"y":0,"z":482.07552870735526},{"x":8858.282521832734,"y":0,"z":8809.894502628595},{"x":3102.3394595831633,"y":0,"z":5732.579368632287},{"x":7598.099689930677,"y":0,"z":7611.632805783302},{"x":638.3233307860792,"y":0,"z":5517.671690322459},{"x":923.5039656050503,"y":0,"z":5730.525667313486},{"x":123.03621508181095,"y":0,"z":8260.99906815216},{"x":20.684667397290468,"y":0,"z":437.0553116314113},{"x":4756.439831107855,"y":0,"z":7728.646353352815},{"x":6940.835837740451,"y":0,"z":108.06678328663111},{"x":898.2989750802517,"y":0,"z":4705.547895282507},{"x":4084.1152681969106,"y":0,"z":2242.649607360363},{"x":3078.617202118039,"y":0,"z":1700.0799626111984},{"x":5276.121250353754,"y":0,"z":8731.838641688228},{"x":4284.119899384677,"y":0,"z":8447.628968860954},{"x":4756.367926020175,"y":0,"z":8043.544725514948},{"x":8138.875900767744,"y":0,"z":2761.2190740182996},{"x":1861.6147292777896,"y":0,"z":9989.966992288828},{"x":5212.34909305349,"y":0,"z":4570.935338269919},{"x":5161.2609019503,"y":0,"z":3606.1291280202568},{"x":7016.022026073188,"y":0,"z":400.1656314358115},{"x":2195.114518981427,"y":0,"z":1017.3585708253086},{"x":6827.159482054412,"y":0,"z":5393.712711520493},{"x":4317.5987573340535,"y":0,"z":2792.265913449228},{"x":8890.681373886764,"y":0,"z":6205.873405560851},{"x":6838.715106714517,"y":0,"z":5928.741325624287},{"x":4407.37503580749,"y":0,"z":3087.94948970899},{"x":8403.360575903207,"y":0,"z":8022.492686286569},{"x":6950.182034634054,"y":0,"z":9993.247278034687},{"x":8516.49141870439,"y":0,"z":1149.7624055482447},{"x":6344.850300811231,"y":0,"z":4405.860959086567},{"x":8798.833100590855,"y":0,"z":6969.356255140156},{"x":4590.177268255502,"y":0,"z":1124.9074479565024},{"x":2078.2159361988306,"y":0,"z":5501.865537371486},{"x":5723.905416671187,"y":0,"z":2360.0412509404123},{"x":1353.3621816895902,"y":0,"z":201.5308546833694},{"x":6574.343948159367,"y":0,"z":4481.054753996432},{"x":8215.169389732182,"y":0,"z":8216.3129420951},{"x":6900.130638387054,"y":0,"z":7080.243583768606},{"x":3372.434745542705,"y":0,"z":2325.3135150298476},{"x":9613.986343611032,"y":0,"z":7303.129874635488},{"x":788.4699734859169,"y":0,"z":5453.720239456743},{"x":1312.591906171292,"y":0,"z":4305.875659920275},{"x":9930.689439643174,"y":0,"z":5879.368858877569},{"x":4088.4687448851764,"y":0,"z":493.1585700251162},{"x":1537.1206495910883,"y":0,"z":8843.467847909778},{"x":2942.305642645806,"y":0,"z":228.95204601809382},{"x":375.17590913921595,"y":0,"z":9658.985855057836},{"x":5400.835576001555,"y":0,"z":4331.144392490387},{"x":6748.777248430997,"y":0,"z":8071.119401138276},{"x":5049.536228179932,"y":0,"z":9096.70393448323},{"x":1919.235191307962,"y":0,"z":3903.3820293843746},{"x":6389.403177890927,"y":0,"z":8398.914523422718},{"x":5.7657877914607525,"y":0,"z":6370.787401683629},{"x":4596.94707300514,"y":0,"z":6948.25041340664},{"x":4809.396825730801,"y":0,"z":2915.3914051130414},{"x":7783.041845541447,"y":0,"z":730.6081964634359},{"x":5818.116103764623,"y":0,"z":3745.0689752586186},{"x":5947.144664824009,"y":0,"z":453.7696624174714},{"x":1025.8539230562747,"y":0,"z":3812.2931332327425},{"x":5801.642774604261,"y":0,"z":8739.586372394115},{"x":8929.026063997298,"y":0,"z":8995.132935233414},{"x":7054.367251694202,"y":0,"z":3360.1753087714314},{"x":4104.310956317931,"y":0,"z":1252.8162309899926},{"x":3193.9926324412227,"y":0,"z":1684.926573652774},{"x":6276.416808832437,"y":0,"z":8652.657817583531},{"x":4409.13419239223,"y":0,"z":3003.7037562578917},{"x":552.6812491007149,"y":0,"z":8925.8829690516},{"x":8629.39992453903,"y":0,"z":2291.1294433288276},{"x":4175.585508346558,"y":0,"z":8155.825620051473},{"x":4810.830687638372,"y":0,"z":7402.523779310286},{"x":3881.8011223338544,"y":0,"z":753.0758855864406},{"x":6795.95832945779,"y":0,"z":538.1356622092426},{"x":4751.684502698481,"y":0,"z":997.800303157419},{"x":2974.991633091122,"y":0,"z":1104.2603384703398},{"x":8986.401315778494,"y":0,"z":8287.333112675697},{"x":2463.975897990167,"y":0,"z":5311.771382112056},{"x":4355.117443483323,"y":0,"z":7261.335428338498},{"x":5881.71720970422,"y":0,"z":6567.302828188986},{"x":6016.2684810347855,"y":0,"z":4463.399553205818},{"x":2321.2294024415314,"y":0,"z":5320.103543344885},{"x":6485.028641764075,"y":0,"z":4718.037836719304},{"x":2856.2331898137927,"y":0,"z":5420.873367693275},{"x":6449.654148891568,"y":0,"z":3986.6178622469306},{"x":1659.311472903937,"y":0,"z":5268.517220392823},{"x":543.5470258817077,"y":0,"z":5111.753670498729},{"x":6440.087913069874,"y":0,"z":757.819670252502},{"x":7341.612123418599,"y":0,"z":8771.771769970655},{"x":4102.55687776953,"y":0,"z":1729.619917459786},{"x":6842.276237439364,"y":0,"z":6620.260963682085},{"x":6513.57785332948,"y":0,"z":7651.551985181868},{"x":4660.6244798749685,"y":0,"z":981.9743689149618},{"x":4338.597359601408,"y":0,"z":1041.775222402066},{"x":6776.432164479047,"y":0,"z":3171.6733309440315},{"x":1225.1619528979063,"y":0,"z":9975.448022596538},{"x":6999.430432915688,"y":0,"z":96.73309978097677},{"x":7714.989511296153,"y":0,"z":8228.93189266324},{"x":9633.064023219049,"y":0,"z":1941.7848973535001},{"x":773.4686625190079,"y":0,"z":3810.6567971408367},{"x":7929.895520210266,"y":0,"z":8482.805197127163},{"x":5215.644245035946,"y":0,"z":8813.710608519614},{"x":6912.4636054039,"y":0,"z":5672.536576166749},{"x":1046.2688724510372,"y":0,"z":4653.636729344726},{"x":8167.2448525205255,"y":0,"z":8877.374685835093},{"x":2529.818150214851,"y":0,"z":5252.129363361746},{"x":4138.338412158191,"y":0,"z":976.5917621552944},{"x":8008.195147849619,"y":0,"z":2300.0954720191658},{"x":6794.3813116289675,"y":0,"z":2611.825296189636},{"x":6554.728720802814,"y":0,"z":5216.942564584315},{"x":8971.396647393703,"y":0,"z":7143.717536237091},{"x":3981.622166465968,"y":0,"z":8976.86205804348},{"x":7240.475192666054,"y":0,"z":1721.891628112644},{"x":3420.3325444832444,"y":0,"z":2800.1340734772384},{"x":4153.134892694652,"y":0,"z":1721.8018602579832},{"x":5893.420400097966,"y":0,"z":8593.268762342632},{"x":6278.499013278633,"y":0,"z":2605.122171808034},{"x":8796.840508002788,"y":0,"z":2228.756775148213},{"x":3576.000235043466,"y":0,"z":5777.872437611222},{"x":5768.718253821135,"y":0,"z":978.0467627570033},{"x":9012.521405238658,"y":0,"z":8897.24226668477},{"x":7554.254666902125,"y":0,"z":1748.0581835843623},{"x":3707.97838550061,"y":0,"z":8787.87295660004},{"x":6542.452278081328,"y":0,"z":6603.190079331398},{"x":1304.506054148078,"y":0,"z":3743.769677821547},{"x":6214.865865185857,"y":0,"z":758.7202615104616},{"x":7758.253822103143,"y":0,"z":1153.079872019589},{"x":3897.195551544428,"y":0,"z":422.71485552191734},{"x":377.31653777882457,"y":0,"z":7923.933959100395},{"x":6256.402530707419,"y":0,"z":2063.148068264127},{"x":5506.27549411729,"y":0,"z":417.8068903274834},{"x":6029.914319515228,"y":0,"z":6706.82234922424},{"x":8164.476689416915,"y":0,"z":1967.6281325519085},{"x":1457.7500871382654,"y":0,"z":8957.737148739398},{"x":8878.181469626725,"y":0,"z":956.6037612967193},{"x":8671.492303255945,"y":0,"z":8126.587746664882},{"x":8675.991473719478,"y":0,"z":2401.06716286391},{"x":2532.4721867218614,"y":0,"z":3361.382207367569},{"x":981.6880384460092,"y":0,"z":4982.937218155712},{"x":1512.416189070791,"y":0,"z":5076.8285500817},{"x":238.17949928343296,"y":0,"z":6234.936029650271},{"x":7620.205522980541,"y":0,"z":8619.470079429448},{"x":9704.864381346852,"y":0,"z":1115.2514070272446},{"x":6516.5571216493845,"y":0,"z":8166.452136356384},{"x":5223.133317194879,"y":0,"z":1331.3860539346933},{"x":3712.997070979327,"y":0,"z":2799.415865447372},{"x":6455.8991603553295,"y":0,"z":3484.2350147664547},{"x":3804.7825847752392,"y":0,"z":3579.4531274586916},{"x":7489.501542877406,"y":0,"z":7496.837805956602},{"x":3413.061499595642,"y":0,"z":1973.0832730419934},{"x":4797.578230500221,"y":0,"z":547.5468491204083},{"x":4419.1429344937205,"y":0,"z":8937.3200526461},{"x":6127.430677879602,"y":0,"z":4395.877325441688},{"x":9172.369542066008,"y":0,"z":8139.00480279699},{"x":6392.713529057801,"y":0,"z":4949.0891746245325},{"x":4213.886281941086,"y":0,"z":8852.653373032808},{"x":4213.885343633592,"y":0,"z":2409.4136338680983},{"x":6007.11161037907,"y":0,"z":4284.614049829543},{"x":4637.988051399589,"y":0,"z":430.2598861977458},{"x":7821.508604101837,"y":0,"z":1225.2561072818935},{"x":2146.3299356400967,"y":0,"z":3444.015341810882},{"x":1786.7397423833609,"y":0,"z":61.46640283986926},{"x":4341.918837744743,"y":0,"z":9717.131254728884},{"x":2218.9586982131004,"y":0,"z":5039.840778335929},{"x":1752.1121306344867,"y":0,"z":8870.607567951083},{"x":4703.173781745136,"y":0,"z":1541.3263067603111},{"x":8435.877014417201,"y":0,"z":2910.0133944302797},{"x":6830.38055896759,"y":0,"z":556.602175347507},{"x":8606.2728241086,"y":0,"z":2046.540651936084},{"x":6690.3255879879,"y":0,"z":8348.287015687674},{"x":4398.727284278721,"y":0,"z":8899.551241192967},{"x":5332.836383022368,"y":0,"z":8932.843010406941},{"x":5713.229048997164,"y":0,"z":6673.292540945113},{"x":5989.203727804124,"y":0,"z":1110.395712312311},{"x":4720.587050542235,"y":0,"z":675.5390064790845},{"x":2767.715291120112,"y":0,"z":6022.128313779831},{"x":5925.951017998159,"y":0,"z":1466.3782739080489},{"x":2516.068760305643,"y":0,"z":3319.1567938774824},{"x":1510.8104492537677,"y":0,"z":5112.0106293819845},{"x":6945.690044667572,"y":0,"z":2148.6913389526308},{"x":558.6751992814243,"y":0,"z":5498.9872220903635},{"x":3930.1751204766333,"y":0,"z":831.862916238606},{"x":8751.510186120868,"y":0,"z":3011.1923860386014},{"x":3947.7085298858583,"y":0,"z":2768.779012840241},{"x":2893.669595941901,"y":0,"z":6822.755518369377},{"x":6397.639159113169,"y":0,"z":142.0100941322744},{"x":1589.261677581817,"y":0,"z":9986.493096221238},{"x":9215.788620058447,"y":0,"z":2720.8962687291205},{"x":478.6889092065394,"y":0,"z":6596.295370254666},{"x":5988.101486582309,"y":0,"z":6802.829774096608},{"x":8942.807803396136,"y":0,"z":933.8208613917232},{"x":5386.2366755492985,"y":0,"z":8060.980383306742},{"x":7905.027396045625,"y":0,"z":8893.132382072508},{"x":2396.7759334482253,"y":0,"z":5744.231839198619},{"x":1500.449941959232,"y":0,"z":4354.337370023131},{"x":4145.929194055498,"y":0,"z":8914.496060460806},{"x":6081.465317402035,"y":0,"z":1294.0156855620444},{"x":1246.484387665987,"y":0,"z":4868.68504434824},{"x":1563.3094916120172,"y":0,"z":4568.7547931447625},{"x":4.081190563738346,"y":0,"z":6042.9452382959425},{"x":1930.8619434013963,"y":0,"z":131.39671413227916},{"x":8663.025430869311,"y":0,"z":8784.064520150423},{"x":6760.112999472767,"y":0,"z":2713.642625603825},{"x":1078.503248281777,"y":0,"z":59.482939541339874},{"x":4935.410008765757,"y":0,"z":783.9620998129249},{"x":6152.263036929071,"y":0,"z":7056.810706853867},{"x":280.31216003000736,"y":0,"z":588.2685724645853},{"x":3758.1216474063694,"y":0,"z":35.311225801706314},{"x":1847.8413810953498,"y":0,"z":9270.7958817482},{"x":362.23897943273187,"y":0,"z":334.5146682113409},{"x":5650.280104018748,"y":0,"z":589.2198579385877},{"x":4174.025594256818,"y":0,"z":8190.7420651987195},{"x":7826.1828282848,"y":0,"z":891.1823877133429},{"x":601.2090225704014,"y":0,"z":5918.133503291756},{"x":8401.86404529959,"y":0,"z":1048.4850429929793},{"x":5498.147408943623,"y":0,"z":8226.009961217642},{"x":258.670630864799,"y":0,"z":3599.5036247186363},{"x":7177.866632118821,"y":0,"z":1721.0646090097725},{"x":6551.016711164266,"y":0,"z":2477.2909469902515},{"x":2961.608273908496,"y":0,"z":1183.482997585088},{"x":1766.2795935757458,"y":0,"z":4365.561529994011},{"x":4231.716813519597,"y":0,"z":1984.6342224627733},{"x":2938.367237802595,"y":0,"z":6742.2369215637445},{"x":2680.1800983957946,"y":0,"z":2536.4620378240943},{"x":5700.607968028635,"y":0,"z":8771.994523704052},{"x":8368.373720441014,"y":0,"z":2867.4907563254237},{"x":4118.59167739749,"y":0,"z":2359.237086493522}];
        for (var i=0;i<posArray.length;i++) {

            var c = new THREE.Mesh(new THREE.PlaneGeometry(3, 3), new THREE.MeshBasicMaterial({ map: THREE.ImageUtils.loadTexture( '/textures/items/I_Scroll02.png' ),transparent: true, 
             alphaTest: 0.5,side: 
             THREE.DoubleSide}));
            c.name ='scroll'
            c.overdraw = true;
            c.position.x = posArray[i].x;
            c.position.z = posArray[i].z;
            c.position.y =getHeight(posArray[i].x,posArray[i].z,true);
            app.Config.scene.add(c);
            app.Config.artefacts.push(c)
        }

        var natureArray = [{x:380.77789402008057,y:17.666666666666657,z:526.8131837844849},{x:184.25782942771912,y:17.666666666666657,z:385.03272461891174},{x:496.18263268470764,y:20.33333333333333,z:549.7428822517395},{x:104.53565645217896,y:28.33333333333333,z:471.80844140052795},{x:222.75890111923218,y:16.33333333333333,z:1525.4122009277344},{x:1.9327378273010254,y:19,z:2364.512279033661},{x:936.947544336319,y:29.666666666666657,z:3844.974129676819},{x:690.6116547584534,y:24.33333333333333,z:3501.9133417606354},{x:1021.947384595871,y:16.33333333333333,z:3739.704743862152},{x:856.8424198627472,y:16.33333333333333,z:3650.5476882457733},{x:755.7952523231506,y:21.666666666666657,z:3625.011894464493},{x:731.1029961109161,y:25.666666666666657,z:3383.749579191208},{x:183.84774780273438,y:29.666666666666657,z:3302.8943436145782},{x:154.79229879379272,y:27,z:3357.8914721012115},{x:805.8879594802856,y:17.666666666666657,z:3491.09538602829},{x:793.9609038829803,y:24.33333333333333,z:3701.9817316532135},{x:731.9397764205933,y:24.33333333333333,z:3629.4213151931763},{x:403.2568154335022,y:20.33333333333333,z:3999.93656373024},{x:811.8093829154968,y:16.33333333333333,z:3650.3772387504578},{x:755.8497264385223,y:21.666666666666657,z:3359.561886548996},{x:773.5612368583679,y:24.33333333333333,z:3678.932626724243},{x:790.2079675197601,y:17.666666666666657,z:3410.2306475639343},{x:985.3342177867889,y:24.33333333333333,z:3834.4977436065674},{x:30.603387355804443,y:19,z:3571.7094860076904},{x:540.1011054515839,y:29.666666666666657,z:4274.532241821289},{x:449.57121205329895,y:21.666666666666657,z:4800.253226995468},{x:917.9835255146027,y:25.666666666666657,z:5012.316400051117},{x:541.7839071750641,y:27,z:4318.655629634857},{x:445.40430903434753,y:21.666666666666657,z:4460.362568855286},{x:379.9338994026184,y:23,z:4479.523919582367},{x:412.3695821762085,y:24.33333333333333,z:4937.452585697174},{x:169.87133502960205,y:27,z:4999.307597398758},{x:647.1830747127533,y:27,z:4156.008239507675},{x:438.6638853549957,y:25.666666666666657,z:4109.4339463710785},{x:531.5289368629456,y:25.666666666666657,z:4310.767336606979},{x:455.17631673812866,y:28.33333333333333,z:4495.304351091385},{x:440.52425479888916,y:25.666666666666657,z:4133.4974665641785},{x:165.77017402648926,y:25.666666666666657,z:6026.880837678909},{x:168.84331059455872,y:27,z:6067.694745063782},{x:168.28327989578247,y:16.33333333333333,z:6121.35998749733},{x:148.60399341583252,y:17.666666666666657,z:6087.846589803696},{x:15.50089406967163,y:16.33333333333333,z:5230.038374662399},{x:45.812671422958374,y:21.666666666666657,z:5922.97873711586},{x:73.10093832015991,y:19,z:5916.0459060668945},{x:804.6205959320068,y:23,z:5785.171602964401},{x:711.7666113376617,y:17.666666666666657,z:6016.722199440002},{x:897.7291514873505,y:25.666666666666657,z:5995.486812353134},{x:302.57575011253357,y:29.666666666666657,z:6112.195856809616},{x:523.5678412914276,y:21.666666666666657,z:5976.0954649448395},{x:160.1063573360443,y:19,z:6265.589283466339},{x:292.9044542312622,y:29.666666666666657,z:6196.370877504349},{x:377.05847430229187,y:16.33333333333333,z:6190.170471906662},{x:128.39243078231812,y:16.33333333333333,z:6266.32133603096},{x:448.23581743240356,y:19,z:7918.068992614746},{x:347.50555753707886,y:21.666666666666657,z:7827.1345937252045},{x:495.56275177001953,y:16.33333333333333,z:7978.176842689514},{x:396.52260518074036,y:23,z:7859.0393743515015},{x:398.4304025173187,y:21.666666666666657,z:8732.306102514267},{x:754.6107392311096,y:23,z:8222.83824801445},{x:741.2397382259369,y:20.33333333333333,z:8301.911658525467},{x:475.0658497810364,y:27,z:8582.849778175354},{x:554.682487487793,y:23,z:8297.966608524323},{x:947.4827275276184,y:17.666666666666657,z:8957.020323038101},{x:398.64425587654114,y:19,z:8799.30142879486},{x:563.5886526107788,y:19,z:8447.805220842361},{x:579.2140057086945,y:24.33333333333333,z:8365.623819589615},{x:489.6731345653534,y:23,z:8901.244483709335},{x:790.5790026187897,y:23,z:8237.237800598145},{x:981.8165862560272,y:28.33333333333333,z:9637.910236120224},{x:747.598103761673,y:27,z:9628.670719146729},{x:663.8916349411011,y:27,z:9633.362292289734},{x:1260.0952033996582,y:21.666666666666657,z:21.8782320022583},{x:2023.813202381134,y:23,z:800.7777569293976},{x:1645.7281639575958,y:29.666666666666657,z:183.522723197937},{x:1774.0585358142853,y:20.33333333333333,z:396.5566260814667},{x:1903.3636136054993,y:24.33333333333333,z:364.43329644203186},{x:2018.9821541309357,y:27,z:4059.3066821098328},{x:1220.349468946457,y:28.33333333333333,z:3696.3207767009735},{x:1716.0761885643005,y:25.666666666666657,z:3481.4083409309387},{x:2023.0065982341766,y:24.33333333333333,z:4068.981414794922},{x:1818.452857017517,y:24.33333333333333,z:3435.5970034599304},{x:1466.6077992916107,y:21.666666666666657,z:3652.7084817886353},{x:1554.9898970127106,y:29.666666666666657,z:3641.92360830307},{x:2004.1085932254791,y:17.666666666666657,z:3389.315895795822},{x:1879.6520278453827,y:29.666666666666657,z:3440.5073387622833},{x:1981.4204964637756,y:19,z:3406.178491830826},{x:1464.0044655799866,y:28.33333333333333,z:3717.8745653629303},{x:1946.5246024131775,y:27,z:3431.7648663520813},{x:1093.87983751297,y:19,z:3713.0259549617767},{x:1764.3231053352356,y:16.33333333333333,z:5058.749126195908},{x:1053.1479601860046,y:17.666666666666657,z:5027.179952144623},{x:1706.2458720207214,y:29.666666666666657,z:4854.229532718658},{x:1553.57834815979,y:21.666666666666657,z:5068.433372974396},{x:1988.563749074936,y:20.33333333333333,z:4850.382504940033},{x:1367.4606635570526,y:19,z:4412.072434425354},{x:1805.5444991588593,y:27,z:4898.634871959686},{x:1729.1232528686523,y:19,z:5083.812146425247},{x:1546.9173126220703,y:27,z:5038.857024908066},{x:2040.6235275268555,y:27,z:4889.842620611191},{x:2018.9471933841705,y:21.666666666666657,z:4943.179103851318},{x:1889.6367161273956,y:23,z:4635.18009352684},{x:1549.0102741718292,y:23,z:5102.73202252388},{x:1644.1797831058502,y:25.666666666666657,z:4676.379488945007},{x:1698.6344447135925,y:27,z:4621.359107017517},{x:1751.448570728302,y:23,z:4625.380714893341},{x:1676.127360343933,y:20.33333333333333,z:5033.709224224091},{x:2032.9157650470734,y:25.666666666666657,z:5405.087850570679},{x:1320.6942675113678,y:28.33333333333333,z:5972.929715633392},{x:2034.7281069755554,y:21.666666666666657,z:5760.012468338013},{x:2036.3268973827362,y:23,z:5306.505749940872},{x:1264.1426119804382,y:29.666666666666657,z:5632.613110542297},{x:2025.5237953662872,y:21.666666666666657,z:5336.334408044815},{x:1538.569303035736,y:16.33333333333333,z:5402.32509803772},{x:1967.8204169273376,y:17.666666666666657,z:5707.19643330574},{x:1847.4425375461578,y:25.666666666666657,z:5490.95348572731},{x:1252.5740485191345,y:20.33333333333333,z:6104.75319314003},{x:1869.6311202049255,y:23,z:5645.241811752319},{x:1795.4276711940765,y:17.666666666666657,z:5145.1118953228},{x:1797.4399411678314,y:24.33333333333333,z:5474.451705217361},{x:1570.0172481536865,y:19,z:5504.328979969025},{x:1894.1313786506653,y:27,z:6637.187661647797},{x:1539.0923919677734,y:20.33333333333333,z:6598.44570684433},{x:1192.6619346141815,y:20.33333333333333,z:6294.046452760696},{x:1921.8104219436646,y:25.666666666666657,z:6643.801624059677},{x:1485.9152252674103,y:17.666666666666657,z:9084.264010190964},{x:1798.7928619384766,y:19,z:9066.957802057266},{x:1631.104984998703,y:23,z:9103.077482938766},{x:1260.5054757595062,y:27,z:8849.668818712234},{x:1791.34064078331,y:19,z:9085.586634874344},{x:1356.9260468482971,y:27,z:9084.420866250992},{x:1311.0316355228424,y:24.33333333333333,z:8770.668812036514},{x:1762.9279108047485,y:25.666666666666657,z:8923.308611392975},{x:1271.276051044464,y:24.33333333333333,z:10143.866326332092},{x:1413.3604440689087,y:29.666666666666657,z:9966.26266860962},{x:1192.546154975891,y:25.666666666666657,z:9677.702209472656},{x:1776.0618269443512,y:24.33333333333333,z:10031.92779827118},{x:1814.4063606262207,y:25.666666666666657,z:10124.38484454155},{x:1335.4324057102203,y:28.33333333333333,z:10060.67767572403},{x:1758.4009034633636,y:21.666666666666657,z:9984.433825016022},{x:1242.5879216194153,y:24.33333333333333,z:10031.89740395546},{x:1380.7052874565125,y:24.33333333333333,z:9980.061777830124},{x:1355.7956912517548,y:24.33333333333333,z:10190.921752214432},{x:1324.2164075374603,y:27,z:10056.16048502922},{x:1830.2631540298462,y:27,z:10075.200207710266},{x:1177.756721496582,y:17.666666666666657,z:10097.538223028183},{x:2059.511540412903,y:24.33333333333333,z:803.1219744682312},{x:2615.992714881897,y:24.33333333333333,z:96.68834114074707},{x:2620.527403116226,y:29.666666666666657,z:69.64096164703369},{x:2874.902207136154,y:19,z:6.665444850921631},{x:2842.587014913559,y:21.666666666666657,z:475.1649749279022},{x:2157.4855744838715,y:19,z:580.8480184078217},{x:2800.5688259601593,y:29.666666666666657,z:804.029967546463},{x:2784.6216337680817,y:24.33333333333333,z:777.552811384201},{x:2247.8731832504272,y:21.666666666666657,z:542.4465894699097},{x:2831.7153186798096,y:27,z:708.4136576652527},{x:2857.423227787018,y:28.33333333333333,z:657.2651767730713},{x:2714.7171218395233,y:19,z:773.8556849956512},{x:2901.7728741168976,y:24.33333333333333,z:546.1187489032745},{x:2835.411311149597,y:19,z:415.2749328613281},{x:2360.3656601905823,y:21.666666666666657,z:822.9003214836121},{x:2156.1294374465942,y:28.33333333333333,z:766.7670314311981},{x:2763.6550273895264,y:27,z:827.5502378940582},{x:2816.7203114032745,y:16.33333333333333,z:540.0653176307678},{x:2902.2968006134033,y:21.666666666666657,z:515.4072277545929},{x:2277.1285758018494,y:21.666666666666657,z:591.2491526603699},{x:2636.901520729065,y:25.666666666666657,z:869.8923218250275},{x:2796.461579799652,y:20.33333333333333,z:132.1127908229828},{x:2848.2188239097595,y:17.666666666666657,z:342.4475202560425},{x:2216.8489243984222,y:21.666666666666657,z:494.8635275363922},{x:2887.564765930176,y:19,z:157.72404551506042},{x:2700.3221168518066,y:23,z:823.4006776809692},{x:2647.9064655303955,y:16.33333333333333,z:147.99161291122437},{x:2861.7877159118652,y:20.33333333333333,z:80.52529215812683},{x:2211.4597454071045,y:25.666666666666657,z:551.2387125492096},{x:3004.404884338379,y:21.666666666666657,z:1483.7350897789001},{x:2288.6971895694733,y:20.33333333333333,z:1283.2148237228394},{x:2739.184778213501,y:16.33333333333333,z:1512.6128520965576},{x:2960.8416078090668,y:25.666666666666657,z:1477.0277049541473},{x:2303.1798050403595,y:25.666666666666657,z:1276.1897940635681},{x:2968.343393802643,y:19,z:1521.055302143097},{x:2132.7780895233154,y:27,z:2969.0543582439423},{x:2805.645332336426,y:19,z:2514.900647878647},{x:2801.07142496109,y:27,z:2563.9317433834076},{x:2070.679750442505,y:24.33333333333333,z:2933.3563210964203},{x:3048.2391726970673,y:16.33333333333333,z:2538.2915165424347},{x:2773.797780275345,y:23,z:2563.873630285263},{x:2765.576154232025,y:19,z:2535.2931711673737},{x:2163.503942012787,y:27,z:2957.254314184189},{x:2142.469806432724,y:23,z:3007.4072880744934},{x:2886.1667308807373,y:24.33333333333333,z:3185.7648923397064},{x:2469.9020416736603,y:20.33333333333333,z:3474.5108890533447},{x:2151.1452207565308,y:17.666666666666657,z:3918.8432173728943},{x:2918.227523088455,y:19,z:3188.7406141757965},{x:2957.8391242027283,y:16.33333333333333,z:3176.240389108658},{x:2476.5093953609467,y:17.666666666666657,z:4992.222062110901},{x:2356.7321968078613,y:19,z:5084.544987440109},{x:2555.99893951416,y:23,z:5086.643285512924},{x:2135.627552509308,y:16.33333333333333,z:4793.147044420242},{x:2053.855257511139,y:25.666666666666657,z:4535.474317073822},{x:2080.095696210861,y:25.666666666666657,z:4882.629734516144},{x:2327.101458787918,y:16.33333333333333,z:5083.746744394302},{x:2219.9668571949005,y:17.666666666666657,z:4857.230522155762},{x:2396.2840523719788,y:21.666666666666657,z:4969.437049150467},{x:2545.1900296211243,y:25.666666666666657,z:5089.009303569794},{x:2068.266398191452,y:19,z:5726.6333527565},{x:2820.1634559631348,y:17.666666666666657,z:5424.476099729538},{x:2323.0472271442413,y:21.666666666666657,z:5445.445489645004},{x:2556.6032569408417,y:21.666666666666657,z:5552.17036986351},{x:2224.754791498184,y:23,z:5209.485952615738},{x:2279.014563560486,y:27,z:5953.99535036087},{x:2141.8877584934235,y:23,z:5255.423723697662},{x:2050.3478457927704,y:20.33333333333333,z:5354.938398599625},{x:2243.3916964530945,y:20.33333333333333,z:5304.473274230957},{x:2048.551092147827,y:23,z:5765.440880775452},{x:2097.1348452568054,y:20.33333333333333,z:5138.049736022949},{x:2213.5126910209656,y:29.666666666666657,z:5858.799556970596},{x:2291.4022731781006,y:24.33333333333333,z:5516.878028869629},{x:2099.467670917511,y:23,z:5269.533487081528},{x:2074.565528869629,y:16.33333333333333,z:5845.585733652115},{x:2410.2463703155518,y:19,z:6107.194395780563},{x:2406.9921414852142,y:17.666666666666657,z:6120.016576290131},{x:2772.8318181037903,y:27,z:5414.914287567139},{x:2111.556595802307,y:21.666666666666657,z:5138.32781124115},{x:2195.083984851837,y:29.666666666666657,z:5814.450865983963},{x:2284.8171281814575,y:19,z:5164.993185758591},{x:2460.6353912353516,y:17.666666666666657,z:6677.431814670563},{x:2054.932139158249,y:24.33333333333333,z:6616.976547956467},{x:2048.4767134189606,y:21.666666666666657,z:6638.138309717178},{x:2513.841118812561,y:21.666666666666657,z:6727.237572431564},{x:2450.9073276519775,y:23,z:6206.350990533829},{x:2062.595957994461,y:24.33333333333333,z:6608.83500957489},{x:2125.351752758026,y:28.33333333333333,z:6619.188899278641},{x:2056.2540187835693,y:25.666666666666657,z:6596.867456197739},{x:2490.837250471115,y:25.666666666666657,z:6690.05363202095},{x:2461.599246740341,y:20.33333333333333,z:6475.798639059067},{x:2110.9361062049866,y:27,z:6624.0093631744385},{x:2507.987809419632,y:27,z:6464.445289373398},{x:2553.743042230606,y:24.33333333333333,z:9069.040768384933},{x:2603.7364153862,y:28.33333333333333,z:10142.555356025696},{x:2619.380915403366,y:16.33333333333333,z:10068.116751194},{x:2148.033283472061,y:17.666666666666657,z:10196.807037591934},{x:2572.9514412879944,y:19,z:10120.58391046524},{x:4059.2850103378296,y:16.33333333333333,z:263.96586656570435},{x:4012.743734359741,y:23,z:326.39739060401917},{x:3182.054565668106,y:16.33333333333333,z:545.0198283195496},{x:4018.1812653541565,y:28.33333333333333,z:446.4164776802063},{x:3299.5009167194366,y:23,z:591.7228052616119},{x:3883.6959817409515,y:16.33333333333333,z:326.1260805130005},{x:3915.679690361023,y:17.666666666666657,z:390.87538719177246},{x:3983.6526930332184,y:20.33333333333333,z:391.91205620765686},{x:3974.2072319984436,y:21.666666666666657,z:368.4530153274536},{x:4080.4624195098877,y:20.33333333333333,z:401.84536600112915},{x:3465.8555274009705,y:27,z:418.62419605255127},{x:3187.637269258499,y:21.666666666666657,z:643.3067502975464},{x:3447.0390625,y:25.666666666666657,z:570.5782494544983},{x:3610.0460500717163,y:23,z:258.5488073825836},{x:3142.274495124817,y:24.33333333333333,z:1759.969703912735},{x:3115.88916015625,y:19,z:1747.3804104328156},{x:3159.955407857895,y:20.33333333333333,z:1937.930747270584},{x:3161.8700380325317,y:28.33333333333333,z:1768.8646829128265},{x:3973.2820477485657,y:28.33333333333333,z:2041.5054528713226},{x:3933.2764439582825,y:29.666666666666657,z:2752.267625808716},{x:3996.3502118587494,y:20.33333333333333,z:3064.6850774288177},{x:3900.537465572357,y:25.666666666666657,z:2718.4987058639526},{x:3693.271025657654,y:27,z:2638.2313148975372},{x:3196.8532135486603,y:29.666666666666657,z:2175.5169429779053},{x:4014.9028775691986,y:21.666666666666657,z:2093.103312253952},{x:3129.184644460678,y:29.666666666666657,z:2409.5789964199066},{x:3764.5103254318237,y:25.666666666666657,z:2692.062898874283},{x:3763.9180946350098,y:20.33333333333333,z:2675.2886838912964},{x:4061.3386273384094,y:27,z:2364.385328054428},{x:3910.8045189380646,y:27,z:2724.6659409999847},{x:3740.9899682998657,y:21.666666666666657,z:2496.0605306625366},{x:3867.9050793647766,y:29.666666666666657,z:2918.225978374481},{x:3151.6056423187256,y:27,z:2268.522887468338},{x:3937.7896540164948,y:29.666666666666657,z:2724.923499584198},{x:3762.2094135284424,y:27,z:2948.599347114563},{x:4064.4157013893127,y:29.666666666666657,z:2398.171363592148},{x:3382.364671945572,y:29.666666666666657,z:3103.8478157520294},{x:4090.121277332306,y:16.33333333333333,z:3113.9395463466644},{x:3207.7100715637207,y:27,z:3122.6544194221497},{x:3797.708485364914,y:16.33333333333333,z:6714.503651380539},{x:3285.172775030136,y:29.666666666666657,z:6299.245066165924},{x:3814.0648441314697,y:23,z:6768.436352491379},{x:3590.5002410411835,y:16.33333333333333,z:7124.952908277512},{x:3357.517867088318,y:19,z:6886.238094091415},{x:3543.1712243556976,y:23,z:6754.2954268455505},{x:3948.6058781147003,y:29.666666666666657,z:6772.005552768707},{x:3562.0857968330383,y:27,z:6423.094191789627},{x:3186.023831129074,y:21.666666666666657,z:6797.614675283432},{x:3480.8136751651764,y:16.33333333333333,z:7654.965456485748},{x:4060.7922883033752,y:17.666666666666657,z:7810.38861823082},{x:4039.3050696849823,y:20.33333333333333,z:8884.576417446136},{x:3797.402440547943,y:25.666666666666657,z:8917.334577322006},{x:3890.4737746715546,y:20.33333333333333,z:8890.162824392319},{x:4091.974874973297,y:17.666666666666657,z:8774.451675653458},{x:3642.4931259155273,y:16.33333333333333,z:8963.86455321312},{x:4061.0993959903717,y:24.33333333333333,z:8870.911670446396},{x:3905.260488510132,y:20.33333333333333,z:8942.420122861862},{x:4618.949841737747,y:17.666666666666657,z:594.6050329208374},{x:4644.191865205765,y:21.666666666666657,z:697.4842188358307},{x:4670.475022315979,y:28.33333333333333,z:879.7981421947479},{x:4834.651766061783,y:29.666666666666657,z:605.356523513794},{x:4309.326845407486,y:16.33333333333333,z:824.4828310012817},{x:5092.3507487773895,y:19,z:517.3281965255737},{x:4745.0631556510925,y:23,z:887.191401720047},{x:4712.556550741196,y:17.666666666666657,z:853.4948258399963},{x:4460.512537479401,y:20.33333333333333,z:873.7288398742676},{x:4750.776322364807,y:17.666666666666657,z:741.6415586471558},{x:4447.199031114578,y:16.33333333333333,z:835.766640663147},{x:4421.838768005371,y:20.33333333333333,z:907.9346029758453},{x:4673.517155408859,y:19,z:780.9155883789062},{x:5048.691426277161,y:19,z:557.4011890888214},{x:4437.728377342224,y:21.666666666666657,z:762.4249649047852},{x:4264.313857078552,y:16.33333333333333,z:974.906129360199},{x:4460.452800512314,y:25.666666666666657,z:939.000340461731},{x:4374.587992191315,y:23,z:902.5579304695129},{x:4327.693845748901,y:29.666666666666657,z:1648.4596269130707},{x:4170.809237003326,y:21.666666666666657,z:1835.9811902046204},{x:4860.587353229523,y:20.33333333333333,z:1400.090325832367},{x:4195.73250079155,y:19,z:1791.326458454132},{x:4843.801731586456,y:19,z:1365.6373946666718},{x:5081.580117940903,y:27,z:1200.1972074508667},{x:4545.558780431747,y:21.666666666666657,z:3015.452358007431},{x:4832.479540586472,y:20.33333333333333,z:2568.0863161087036},{x:4538.5786485672,y:25.666666666666657,z:3003.33137178421},{x:4192.094510316849,y:20.33333333333333,z:3022.9999237060547},{x:4528.140362024307,y:21.666666666666657,z:3012.8807022571564},{x:4136.929789543152,y:28.33333333333333,z:2982.7366802692413},{x:4757.198241949081,y:19,z:3160.208183288574},{x:4944.824182987213,y:16.33333333333333,z:3100.829381465912},{x:4854.369129419327,y:23,z:3117.823357105255},{x:4142.857096910477,y:29.666666666666657,z:3571.3781745433807},{x:4116.9985592365265,y:16.33333333333333,z:3087.103707075119},{x:4612.33691573143,y:17.666666666666657,z:3116.6350297927856},{x:4276.2643575668335,y:21.666666666666657,z:3124.146369457245},{x:4247.330231428146,y:28.33333333333333,z:6717.437867641449},{x:4236.521094799042,y:29.666666666666657,z:6706.31148481369},{x:4382.124186754227,y:28.33333333333333,z:7065.315548658371},{x:4591.84042596817,y:25.666666666666657,z:7055.949456453323},{x:4215.2596783638,y:27,z:6671.629341125488},{x:4406.504109621048,y:17.666666666666657,z:7026.234552145004},{x:4585.256692647934,y:24.33333333333333,z:6730.518417835236},{x:4424.999872684479,y:19,z:7126.301302909851},{x:4428.99836230278,y:17.666666666666657,z:7136.8566308021545},{x:4143.735849142075,y:27,z:7867.896887540817},{x:4480.488582134247,y:27,z:7259.913126945496},{x:4112.7050404548645,y:27,z:7683.286979675293},{x:4815.2279460430145,y:29.666666666666657,z:7530.652433633804},{x:4166.493987798691,y:20.33333333333333,z:7647.861872673035},{x:4621.449795484543,y:19,z:7287.967054843903},{x:4181.249729633331,y:25.666666666666657,z:8247.90395116806},{x:4393.128452062607,y:23,z:8504.030141115189},{x:4718.652985334396,y:16.33333333333333,z:9075.647987604141},{x:4685.128318071365,y:25.666666666666657,z:9084.127536296844},{x:4389.8550090789795,y:17.666666666666657,z:8525.809789657593},{x:4291.4821083545685,y:21.666666666666657,z:8557.460874795914},{x:4419.149172782898,y:27,z:8863.415128231049},{x:4342.227251768112,y:29.666666666666657,z:8511.786652803421},{x:4276.883738040924,y:20.33333333333333,z:8779.509878873825},{x:4106.437178611755,y:28.33333333333333,z:8847.327179431915},{x:4717.923875808716,y:19,z:9053.716156482697},{x:4456.109228372574,y:25.666666666666657,z:9021.603943824768},{x:4419.574540615082,y:29.666666666666657,z:8493.657172203064},{x:4138.09361076355,y:24.33333333333333,z:8783.796081066132},{x:4362.531638383865,y:29.666666666666657,z:8870.086961269379},{x:4760.558843374252,y:24.33333333333333,z:9021.171438455582},{x:4285.744029998779,y:19,z:8926.770360946655},{x:4288.802214384079,y:27,z:8538.80185675621},{x:4951.595297336578,y:20.33333333333333,z:8605.754316329956},{x:4157.336446762085,y:28.33333333333333,z:8879.28875041008},{x:4442.7077293396,y:17.666666666666657,z:9611.487778902054},{x:4173.122234106064,y:19,z:9695.894346475601},{x:5778.739180326462,y:17.666666666666657,z:577.940150976181},{x:5778.226298332214,y:16.33333333333333,z:609.741614818573},{x:5751.1687824726105,y:24.33333333333333,z:668.2334585189819},{x:5462.314715623856,y:16.33333333333333,z:393.82664680480957},{x:5942.626312494278,y:27,z:794.5348513126373},{x:5855.67920255661,y:19,z:711.6511754989624},{x:5710.690815448761,y:29.666666666666657,z:1344.500076532364},{x:5912.398290395737,y:29.666666666666657,z:1324.8503832817078},{x:5873.343060970306,y:23,z:1808.8174784183502},{x:5867.450342178345,y:28.33333333333333,z:1486.3562517166138},{x:5698.967457771301,y:17.666666666666657,z:1376.1442551612854},{x:5768.052221059799,y:16.33333333333333,z:1392.4976568222046},{x:5199.84654211998,y:24.33333333333333,z:1399.2148008346558},{x:5899.842828273773,y:20.33333333333333,z:1621.8643188476562},{x:5798.538600921631,y:25.666666666666657,z:1414.093841791153},{x:5891.727879524231,y:28.33333333333333,z:2554.153888463974},{x:5758.484407424927,y:19,z:2691.9930555820465},{x:6104.152387142181,y:27,z:2507.254514694214},{x:5917.697393894196,y:25.666666666666657,z:2340.6588163375854},{x:6080.10153055191,y:28.33333333333333,z:2322.0948486328125},{x:6078.713720321655,y:28.33333333333333,z:2511.7778820991516},{x:5545.97417140007,y:27,z:2232.427949666977},{x:6126.1541793346405,y:21.666666666666657,z:2386.4621047973633},{x:5851.2013783454895,y:25.666666666666657,z:2220.8466613292694},{x:5826.437978506088,y:24.33333333333333,z:2334.4869709014893},{x:5159.153696537018,y:16.33333333333333,z:2358.980671644211},{x:5560.382616043091,y:28.33333333333333,z:2216.6905460357666},{x:5186.388116359711,y:21.666666666666657,z:3541.978931903839},{x:5262.339378118515,y:29.666666666666657,z:3919.118856191635},{x:5367.79146695137,y:24.33333333333333,z:4055.2267322540283},{x:5365.457268476486,y:28.33333333333333,z:3155.983325481415},{x:5239.628895282745,y:17.666666666666657,z:3465.2750194072723},{x:6006.586705446243,y:19,z:3277.6602239608765},{x:5168.196895599365,y:23,z:3649.5821402072906},{x:5555.1832184791565,y:28.33333333333333,z:3925.930630683899},{x:5979.775813579559,y:29.666666666666657,z:3243.382098197937},{x:5635.493267774582,y:17.666666666666657,z:3313.817155599594},{x:5145.914594650269,y:17.666666666666657,z:3806.70290517807},{x:5284.94877910614,y:16.33333333333333,z:3149.672168970108},{x:5933.468667268753,y:28.33333333333333,z:3242.084733247757},{x:5226.373730182648,y:16.33333333333333,z:3463.2479317188263},{x:5536.2015590667725,y:24.33333333333333,z:4027.769216299057},{x:5181.347593545914,y:24.33333333333333,z:3774.373433113098},{x:5162.357014656067,y:16.33333333333333,z:3122.3873364925385},{x:5184.917901277542,y:24.33333333333333,z:3597.068613052368},{x:5634.549600362778,y:25.666666666666657,z:3274.6740980148315},{x:5322.187943935394,y:24.33333333333333,z:3175.147727251053},{x:5219.477543830872,y:25.666666666666657,z:3532.3673787117004},{x:5151.417048454285,y:19,z:3643.1816222667694},{x:5389.744022607803,y:24.33333333333333,z:4278.34641957283},{x:5673.730892658234,y:16.33333333333333,z:4252.867387771606},{x:5924.038200855255,y:20.33333333333333,z:4383.767242431641},{x:5143.557596445084,y:16.33333333333333,z:4573.070463180542},{x:5463.413770437241,y:23,z:5083.497969150543},{x:5176.410731554031,y:20.33333333333333,z:4556.962998628616},{x:5838.47687292099,y:29.666666666666657,z:4463.655592441559},{x:5491.878596544266,y:23,z:4844.621723413467},{x:5648.080904722214,y:24.33333333333333,z:4426.94845032692},{x:5775.688495159149,y:16.33333333333333,z:4391.741972208023},{x:6015.500748157501,y:21.666666666666657,z:4328.897446870804},{x:5422.0975930690765,y:21.666666666666657,z:4949.672313928604},{x:6034.502957105637,y:29.666666666666657,z:4347.24103140831},{x:5886.662004470825,y:21.666666666666657,z:4411.373304128647},{x:5352.6178414821625,y:19,z:5340.469245433807},{x:5789.873005867004,y:20.33333333333333,z:6037.632350206375},{x:5372.455508947372,y:23,z:5316.29682469368},{x:5721.85649228096,y:27,z:5459.414062738419},{x:5766.869915723801,y:16.33333333333333,z:5898.961890697479},{x:5673.287544965744,y:23,z:5481.4632396698},{x:5664.671542882919,y:25.666666666666657,z:5777.153049468994},{x:6086.496801614761,y:25.666666666666657,z:6852.273843288422},{x:6033.859598398209,y:24.33333333333333,z:6842.8246347904205},{x:5812.922318220139,y:24.33333333333333,z:6759.791718006134},{x:5871.182269573212,y:29.666666666666657,z:7007.067206144333},{x:5840.712800741196,y:21.666666666666657,z:7035.918766260147},{x:5671.313801527023,y:19,z:6427.861894607544},{x:5826.529171943665,y:20.33333333333333,z:6911.690029621124},{x:5856.940283060074,y:24.33333333333333,z:7062.117684602737},{x:5643.997250318527,y:27,z:6269.014590024948},{x:5831.827057123184,y:29.666666666666657,z:6746.769025325775},{x:5760.000182390213,y:27,z:8160.0326998233795},{x:5780.963689088821,y:27,z:7304.669201850891},{x:5557.223037958145,y:28.33333333333333,z:8021.607053041458},{x:5211.304692268372,y:29.666666666666657,z:7870.128691196442},{x:5670.688727855682,y:19,z:7538.231718540192},{x:5722.02956867218,y:17.666666666666657,z:7270.47838807106},{x:5723.114466667175,y:23,z:8112.696831703186},{x:5757.794889688492,y:25.666666666666657,z:8169.993998289108},{x:5734.374398469925,y:19,z:7892.320687532425},{x:5568.299454689026,y:28.33333333333333,z:7323.235064744949},{x:5748.793267726898,y:20.33333333333333,z:7957.939126729965},{x:5134.27855348587,y:21.666666666666657,z:7808.394411563873},{x:5319.3298053741455,y:28.33333333333333,z:7826.987592935562},{x:5731.024040699005,y:20.33333333333333,z:7321.492871522903},{x:5149.400090932846,y:20.33333333333333,z:7779.43612742424},{x:6085.553375959396,y:28.33333333333333,z:7283.050768613815},{x:5129.973754405975,y:21.666666666666657,z:9017.577926158905},{x:5958.464449167252,y:16.33333333333333,z:8775.467470169067},{x:5581.933593511581,y:19,z:9173.171514034271},{x:5878.178936719894,y:19,z:8735.812342643738},{x:5181.429849624634,y:17.666666666666657,z:9008.798785448074},{x:5487.870916604996,y:17.666666666666657,z:8645.440987586975},{x:5601.049268960953,y:17.666666666666657,z:9162.196946144104},{x:5444.814052581787,y:19,z:8917.26653122902},{x:5696.126050233841,y:28.33333333333333,z:8223.373129367828},{x:5896.241357564926,y:16.33333333333333,z:8860.139176368713},{x:6005.633530855179,y:24.33333333333333,z:9718.581779241562},{x:7037.17094373703,y:25.666666666666657,z:156.00634741783142},{x:7139.309735536575,y:24.33333333333333,z:393.60189056396484},{x:6152.627449274063,y:20.33333333333333,z:181.67758345603943},{x:6845.469601631165,y:29.666666666666657,z:182.5121247768402},{x:7088.9658880233765,y:16.33333333333333,z:207.02044343948364},{x:6603.359303474426,y:24.33333333333333,z:596.8911201953888},{x:6446.852228164673,y:16.33333333333333,z:236.81267523765564},{x:7083.949587345123,y:28.33333333333333,z:263.1566605567932},{x:7142.364247560501,y:25.666666666666657,z:328.4904751777649},{x:6780.11697101593,y:16.33333333333333,z:898.5010402202606},{x:6416.387274026871,y:27,z:259.3443729877472},{x:7116.534241199493,y:16.33333333333333,z:227.18757915496826},{x:6730.877055883408,y:24.33333333333333,z:1646.7173998355865},{x:6641.514750003815,y:25.666666666666657,z:1335.1621873378754},{x:6510.696225404739,y:28.33333333333333,z:1423.482213973999},{x:6683.057980298996,y:28.33333333333333,z:1581.3774242401123},{x:6726.826263666153,y:19,z:1494.1529908180237},{x:6817.856654405594,y:25.666666666666657,z:1773.3686740398407},{x:6609.966334581375,y:19,z:1264.1656959056854},{x:6732.495283842087,y:17.666666666666657,z:1167.725254535675},{x:6753.472131252289,y:16.33333333333333,z:1401.2358794212341},{x:6195.571743011475,y:27,z:2302.5057621002197},{x:6260.069344758987,y:28.33333333333333,z:2278.2329082489014},{x:6678.001158237457,y:25.666666666666657,z:2548.94398355484},{x:6196.439954280853,y:21.666666666666657,z:2377.670121908188},{x:6215.550167322159,y:21.666666666666657,z:2356.8726210594177},{x:6458.650589466095,y:27,z:2330.380950689316},{x:6377.321150779724,y:21.666666666666657,z:2452.1860933303833},{x:6177.315228223801,y:27,z:2464.89958524704},{x:6784.1395699977875,y:21.666666666666657,z:3703.856074810028},{x:6851.138989210129,y:20.33333333333333,z:3711.988978624344},{x:6644.3832314014435,y:23,z:3289.7822654247284},{x:6475.955696582794,y:20.33333333333333,z:3441.7838871479034},{x:6600.986634016037,y:23,z:3867.6339886188507},{x:6529.390490055084,y:25.666666666666657,z:3422.537664413452},{x:6753.823275089264,y:20.33333333333333,z:3680.7438645362854},{x:7043.465099334717,y:21.666666666666657,z:3627.6940081119537},{x:6622.064865112305,y:17.666666666666657,z:3496.932537317276},{x:6246.110940694809,y:29.666666666666657,z:3225.918412923813},{x:6505.075315952301,y:27,z:3602.8463611602783},{x:6213.400952100754,y:27,z:4341.803297758102},{x:6644.241595983505,y:21.666666666666657,z:4255.789196014404},{x:6380.185143232346,y:27,z:4705.4107575416565},{x:6317.8329174518585,y:28.33333333333333,z:4772.986835002899},{x:6401.4156193733215,y:24.33333333333333,z:4740.871530532837},{x:6474.8209710121155,y:19,z:4922.216784238815},{x:6593.786805152893,y:24.33333333333333,z:4151.013267278671},{x:6257.272582530975,y:23,z:4301.924033641815},{x:6174.659730911255,y:27,z:4292.9860961437225},{x:6232.083485126495,y:28.33333333333333,z:4357.848389625549},{x:6363.028821229935,y:21.666666666666657,z:4278.666757106781},{x:6242.524294137955,y:20.33333333333333,z:4176.667851686478},{x:6987.1249034404755,y:27,z:4579.617986440659},{x:6527.8558177948,y:25.666666666666657,z:4930.483703136444},{x:6710.249294042587,y:27,z:5301.886365413666},{x:7002.954354047775,y:27,z:5887.344675064087},{x:6933.501344919205,y:20.33333333333333,z:6095.238233327866},{x:7113.246976137161,y:16.33333333333333,z:6058.646526813507},{x:6732.628789663315,y:29.666666666666657,z:5362.329126119614},{x:6698.425189971924,y:25.666666666666657,z:5449.409631252289},{x:6994.208988428116,y:16.33333333333333,z:6064.080158233643},{x:6993.88743185997,y:28.33333333333333,z:5873.184804201126},{x:6769.080721378326,y:28.33333333333333,z:5387.657451629639},{x:7038.109098672867,y:23,z:6128.567663669586},{x:7032.820028781891,y:21.666666666666657,z:6202.705431222916},{x:6938.547339439392,y:20.33333333333333,z:7142.8104519844055},{x:6755.467731714249,y:27,z:6820.212893009186},{x:6714.138411521912,y:28.33333333333333,z:6659.44721198082},{x:6742.69486784935,y:27,z:6703.579495429993},{x:6650.913671255112,y:17.666666666666657,z:6352.849672317505},{x:6889.753166913986,y:23,z:6428.855978488922},{x:7075.209354162216,y:16.33333333333333,z:7419.274420499802},{x:6899.020534038544,y:28.33333333333333,z:7781.4784388542175},{x:6635.19386100769,y:25.666666666666657,z:8070.293502807617},{x:6628.163376331329,y:28.33333333333333,z:8080.667823791504},{x:6989.464186668396,y:21.666666666666657,z:7400.49054813385},{x:6402.80498957634,y:19,z:8759.586474657059},{x:7009.174103975296,y:19,z:8471.43435549736},{x:7066.690177440643,y:16.33333333333333,z:8439.343297481537},{x:6735.65238571167,y:24.33333333333333,z:8544.704313278198},{x:7083.384966373444,y:23,z:8584.899110078812},{x:7029.313174962997,y:24.33333333333333,z:8575.360815763474},{x:6849.056448459625,y:27,z:9970.450725317001},{x:6324.480936050415,y:21.666666666666657,z:10060.977586507797},{x:6992.036315917969,y:16.33333333333333,z:9715.767034053802},{x:7055.795311450958,y:20.33333333333333,z:10194.29205942154},{x:6540.984478712082,y:23,z:9949.448430776596},{x:6667.082169532776,y:28.33333333333333,z:10010.079519033432},{x:6241.886766433716,y:29.666666666666657,z:10082.121749639511},{x:6731.444261312485,y:20.33333333333333,z:10030.939645767212},{x:6526.298357009888,y:29.666666666666657,z:10051.201119184494},{x:6433.01188826561,y:17.666666666666657,z:10197.364691495895},{x:6390.029093742371,y:21.666666666666657,z:10193.507876634598},{x:7079.32347536087,y:27,z:9943.048304080963},{x:6763.9254195690155,y:23,z:10036.476694583893},{x:6794.091879606247,y:19,z:10018.259497642517},{x:6458.050174951553,y:27,z:9687.423668384552},{x:6501.956347703934,y:29.666666666666657,z:10070.199343442917},{x:8150.7131152153015,y:16.33333333333333,z:789.5789775848389},{x:7598.175992012024,y:28.33333333333333,z:610.7738490104675},{x:8173.907406330109,y:23,z:992.7497222423553},{x:7618.442735910416,y:19,z:1337.153012752533},{x:8099.188636302948,y:19,z:2044.3195374011993},{x:7264.906817436218,y:23,z:1747.384421825409},{x:7483.548694849014,y:21.666666666666657,z:1376.554880619049},{x:7524.139672040939,y:24.33333333333333,z:1547.4378871917725},{x:8130.136165857315,y:17.666666666666657,z:1306.9179537296295},{x:7779.9812750816345,y:23,z:1521.0244035720825},{x:7774.875144481659,y:29.666666666666657,z:1553.0442094802856},{x:7534.746983766556,y:23,z:1478.6452007293701},{x:7463.876097917557,y:21.666666666666657,z:1378.3765625953674},{x:8135.087871313095,y:17.666666666666657,z:1299.4214086532593},{x:8131.862185239792,y:20.33333333333333,z:1276.7079138755798},{x:7330.074193477631,y:23,z:1701.1124589443207},{x:7458.119690656662,y:24.33333333333333,z:1502.5701837539673},{x:7469.844212770462,y:23,z:1474.3528249263763},{x:7360.915105342865,y:16.33333333333333,z:2557.9240164756775},{x:7449.704209327698,y:23,z:2550.786539077759},{x:7236.694962501526,y:28.33333333333333,z:3470.0243742465973},{x:8032.004819869995,y:21.666666666666657,z:3201.698003768921},{x:8157.758409023285,y:20.33333333333333,z:3188.922709941864},{x:7382.203421831131,y:28.33333333333333,z:3443.8549480438232},{x:7205.838303804398,y:27,z:3520.4456288814545},{x:7228.757061719894,y:28.33333333333333,z:3477.052624940872},{x:7678.051456689835,y:19,z:5034.15265250206},{x:7635.201012849808,y:17.666666666666657,z:4915.860790252686},{x:7304.95676445961,y:25.666666666666657,z:8078.875485658646},{x:7725.021954774857,y:27,z:8042.597129583359},{x:7440.475098609924,y:28.33333333333333,z:7749.680744409561},{x:7794.933588504791,y:25.666666666666657,z:8080.498952388763},{x:7863.836064577103,y:23,z:7712.737076997757},{x:7231.559778213501,y:28.33333333333333,z:8077.604654550552},{x:7762.99288892746,y:24.33333333333333,z:8017.871783733368},{x:7721.581428766251,y:29.666666666666657,z:8055.586114168167},{x:7393.650918245316,y:27,z:7728.085468530655},{x:7974.195164203644,y:27,z:7761.9512591362},{x:7227.055904150009,y:20.33333333333333,z:8397.426233530045},{x:8185.977858543396,y:28.33333333333333,z:8197.312333583832},{x:7729.672230005264,y:19,z:8831.369326353073},{x:7962.402136564255,y:27,z:8892.588042259216},{x:7210.622015476227,y:24.33333333333333,z:8596.729543209076},{x:7946.247737169266,y:17.666666666666657,z:8975.470196008682},{x:7790.202974796295,y:29.666666666666657,z:9036.613163948059},{x:7740.9092264175415,y:29.666666666666657,z:9641.891573190689},{x:7861.54133605957,y:27,z:9725.288543462753},{x:7637.705493211746,y:23,z:9943.63598704338},{x:7849.506811380386,y:29.666666666666657,z:9702.948253154755},{x:7774.844888210297,y:27,z:9629.731429576874},{x:7801.429177284241,y:29.666666666666657,z:9609.517843484879},{x:8316.65297293663,y:29.666666666666657,z:936.2120418548584},{x:8201.328284978867,y:28.33333333333333,z:806.592319726944},{x:8564.461421251297,y:16.33333333333333,z:508.78657126426697},{x:8236.21841931343,y:17.666666666666657,z:962.103194475174},{x:8201.080959796906,y:24.33333333333333,z:775.2924726009369},{x:8315.553028821945,y:24.33333333333333,z:864.3812355995178},{x:8442.51826119423,y:17.666666666666657,z:1029.851725101471},{x:8255.496933221817,y:16.33333333333333,z:2022.2336571216583},{x:8277.096745967865,y:20.33333333333333,z:1999.6837377548218},{x:8404.58983540535,y:27,z:1160.8954997062683},{x:8294.042657613754,y:19,z:1556.6084127426147},{x:8266.67898440361,y:25.666666666666657,z:1918.1731560230255},{x:8228.023169994354,y:17.666666666666657,z:1969.12180352211},{x:8261.916711330414,y:25.666666666666657,z:1881.1887865066528},{x:8380.03978228569,y:23,z:2023.8545486927032},{x:8252.01605129242,y:21.666666666666657,z:1501.1564965248108},{x:8668.948759317398,y:23,z:2046.9602401256561},{x:8256.440534830093,y:20.33333333333333,z:1482.076111316681},{x:8291.99421453476,y:19,z:1855.3250513076782},{x:8378.083366394043,y:19,z:1998.3944878578186},{x:8668.396246671677,y:27,z:2077.378933429718},{x:8772.246315956116,y:29.666666666666657,z:2973.2065942287445},{x:8751.250426054,y:20.33333333333333,z:2438.996388912201},{x:8235.100457191467,y:25.666666666666657,z:2087.36457157135},{x:8303.610277414322,y:29.666666666666657,z:3067.5405156612396},{x:8496.15924358368,y:25.666666666666657,z:3046.586982011795},{x:8887.729439735413,y:21.666666666666657,z:2496.2147340774536},{x:9033.492428302765,y:25.666666666666657,z:3004.14483833313},{x:9112.107949018478,y:25.666666666666657,z:2690.6865198612213},{x:8718.780145406723,y:28.33333333333333,z:2470.2559022903442},{x:8739.918885231018,y:23,z:2993.7458848953247},{x:8785.885603189468,y:19,z:3057.9081060886383},{x:8581.705868721008,y:24.33333333333333,z:2354.9890961647034},{x:8959.993321180344,y:21.666666666666657,z:2469.5563929080963},{x:9061.911968946457,y:25.666666666666657,z:2647.7341554164886},{x:8758.371014595032,y:17.666666666666657,z:3041.834952354431},{x:8295.750798940659,y:27,z:3091.8095474243164},{x:8289.677711725235,y:28.33333333333333,z:3088.12717628479},{x:8900.878691673279,y:17.666666666666657,z:3099.600350379944},{x:8255.576630115509,y:28.33333333333333,z:3104.3167617321014},{x:8342.964992523193,y:19,z:3131.702390432358},{x:8651.30158662796,y:17.666666666666657,z:3337.1330575942993},{x:8703.78024315834,y:24.33333333333333,z:3302.923160791397},{x:9018.512040138245,y:16.33333333333333,z:3567.498945713043},{x:8341.023700714111,y:21.666666666666657,z:3120.056488275528},{x:8280.40253829956,y:28.33333333333333,z:3095.172908306122},{x:8820.772634983063,y:23,z:7747.337917804718},{x:8890.600496530533,y:16.33333333333333,z:7532.991243839264},{x:8883.890079259872,y:24.33333333333333,z:7361.434196949005},{x:8803.079119205475,y:17.666666666666657,z:8046.7024302482605},{x:8390.312970638275,y:27,z:7541.780968427658},{x:8954.610960245132,y:27,z:7337.665705680847},{x:8862.520362138748,y:24.33333333333333,z:7935.581322669983},{x:8958.705871105194,y:16.33333333333333,z:7204.407675266266},{x:8779.970972776413,y:20.33333333333333,z:7962.465730190277},{x:8915.205854177475,y:17.666666666666657,z:7241.390787601471},{x:9017.219941139221,y:24.33333333333333,z:7302.710867643356},{x:8436.266863584518,y:28.33333333333333,z:8012.446139097214},{x:9070.389711380005,y:23,z:7894.020449638367},{x:8911.918155193329,y:25.666666666666657,z:7370.132128000259},{x:8822.542291641235,y:25.666666666666657,z:7283.261523246765},{x:8753.867691993713,y:23,z:8083.484663009644},{x:8731.427183628082,y:29.666666666666657,z:7326.966838598251},{x:8485.028234958649,y:28.33333333333333,z:7726.041327953339},{x:8764.111043453217,y:21.666666666666657,z:7962.864166498184},{x:8853.924046993256,y:27,z:7250.730119466782},{x:8874.993770599365,y:17.666666666666657,z:7727.750362873077},{x:8529.77055644989,y:23,z:8693.068057537079},{x:8272.698798894882,y:16.33333333333333,z:8778.463235855103},{x:8447.866727590561,y:19,z:9033.370171308517},{x:8821.5504424572,y:25.666666666666657,z:8546.0038356781},{x:8965.321690797806,y:19,z:8977.927029848099},{x:8395.9349527359,y:24.33333333333333,z:8327.880798101425},{x:8224.198688268661,y:19,z:9717.830347776413},{x:10183.984596014023,y:19,z:415.1863679885864},{x:10212.27504992485,y:29.666666666666657,z:453.44667410850525},{x:10120.256600856781,y:28.33333333333333,z:2427.148519039154},{x:9679.059052705765,y:23,z:2986.1614515781403},{x:10148.297273874283,y:16.33333333333333,z:2378.0399663448334},{x:9623.187998771667,y:16.33333333333333,z:3036.94637298584},{x:10032.932861328125,y:19,z:2452.140567302704},{x:10095.708154678345,y:19,z:3580.6813781261444},{x:10121.86193394661,y:27,z:3780.9493021965027},{x:10168.916308164597,y:25.666666666666657,z:5037.149001598358},{x:10119.421325922012,y:16.33333333333333,z:5246.0424036979675},{x:10062.979157686234,y:27,z:6085.4513211250305},{x:10073.751192808151,y:20.33333333333333,z:5688.382061719894},{x:10051.765333652496,y:19,z:5641.244296073914},{x:10096.218237638474,y:20.33333333333333,z:5286.681254386902},{x:10067.530347108841,y:20.33333333333333,z:5649.2768268585205},{x:10069.345839262009,y:29.666666666666657,z:6013.397556066513},{x:9942.521848678589,y:21.666666666666657,z:6590.139417171478},{x:10119.100200891495,y:23,z:6234.235258817673},{x:9606.434511899948,y:29.666666666666657,z:7944.136016607285}];

        for(var i = 0; i < natureArray.length; i++) {
            var r = Math.floor(Math.random()*60);
            var child = app.Config.nature_models[r].clone();
            child.scale.set(2,2,2);
            natureArray[i].y = getHeight( natureArray[i].x, natureArray[i].z,true)-12;
            if (natureArray[i].y>-40 && natureArray[i].y<60) {
                child.position.set(natureArray[i].x, natureArray[i].y , natureArray[i].z);
                app.Config.scene.add(child);
                child.updateMatrixWorld(true);
                app.Config.nature.trees.push(child);
            }
        }

        var matrix = new THREE.Matrix4();
        var material = new THREE.MeshBasicMaterial( {map: THREE.ImageUtils.loadTexture( 'textures/items/sword.png' ), alphaTest: 0.5, side:THREE.DoubleSide } );
        material.transparent = true;
        var geo = new THREE.PlaneGeometry(10,10); 
        geo.applyMatrix( matrix.makeRotationX( -Math.PI / 4 ) );
        geo.applyMatrix( matrix.makeRotationY( Math.PI / 2 ) );

        app.Config.wep = new THREE.Mesh(
            geo,
            material
        );
        app.Config.scene.add(app.Config.wep);
        app.Config.sounds[0] = new Sound( [ 'sounds/sea.mp3'], 4500, 0.3 );
        app.Config.sounds[0].position.set(0,10,0);
        app.Config.sounds[0].playsea();
        app.Config.sounds[1] = new Sound( [ 'sounds/sea.mp3'], 4500, 0.3 );
        app.Config.sounds[1].position.set(0,10,10000);
        app.Config.sounds[1].playsea();
        app.Config.sounds[2] = new Sound( [ 'sounds/sea.mp3'], 4500, 0.3 );
        app.Config.sounds[2].position.set(10000,10,0);
        app.Config.sounds[2].playsea();
        app.Config.sounds[3] = new Sound( [ 'sounds/sea.mp3'], 4500, 0.3 );
        app.Config.sounds[3].position.set(10000,10,10000);
        app.Config.sounds[3].playsea();

        setTimeout("initNoiseShader();initGrass();app.Config.character.setAnimation('stand');",500);

        var config = {

            baseUrl: "models/avatars/",

            body: "raven.js",
            skins: [ "raven.jpg"],
            weapons:  [ 
            ]

        };
        app.Config.raven = new THREE.MD2Character();
        app.Config.raven.scale = 3;
        app.Config.raven.loadParts( config );
        app.Config.raven.root.scale.set(0.18,0.18,0.18);
        app.Config.scene.add( app.Config.raven.root );  
        app.Config.raven.root.position.copy( app.Config.yawObject.position );
        app.Config.raven.root.position.x +=30;

        setTimeout(function () {
            app.Config.raven.setAnimation('fly');
            var canvas1 = document.createElement('canvas');
            var context1 = canvas1.getContext('2d');
            context1.font = "Bold 50px Arial";    
            canvas1.style.width='100px';
            canvas1.style.height='20px';
            context1.fillStyle = "rgba(50,0,100,0.95)";
            context1.fillText("<click me>", 0, 50);

                // canvas contents will be used for a texture
                var texture1 = new THREE.Texture(canvas1) 
                texture1.needsUpdate = true;

                var material1 = new THREE.MeshBasicMaterial( {map: texture1, alphaTest: 0.5, side:THREE.DoubleSide } );
                material1.transparent = true;

                app.Config.tr = new THREE.Mesh(
                    new THREE.PlaneGeometry(20,8),
                    material1
                    );
                app.Config.tr.id = 'clickme';
                app.Config.tr.position.copy( app.Config.raven.root.position );
                app.Config.tr.position.y-=4;
                app.Config.scene.add( app.Config.tr );

            },3000);
    }

function checkPos(camera) {
    var willsend = false;

    if (app.Config.ctext.health <= 0) {
        if (!app.Config.die) {
            app.Config.die = true;
            clearInterval(app.Config.character.getAttackInterval());  
            $('#painDiv').show().effect("pulsate",{times:1,mode:'show'}, 350 )
            if (app.Config.soundattack1 != null) app.Config.soundattack1.stop();                    
            app.Config.soundattack1 = null
            app.Config.yawObject.rotation.x=5;
        }
    }

    app.Config.myPos.nick = CONFIG.nick;

    app.Config.myPos.gems = CONFIG.gems;

    app.Config.myPos.rx = Math.floor(camera.rotation.x);
    app.Config.myPos.ry = Math.floor(camera.rotation.y);
    app.Config.myPos.rz = Math.floor(camera.rotation.z);
    if (app.Config.artefacts.length>400) {
        for (var i=0;i<app.Config.artefacts.length;i++) {
            if (camera.position) {
                if ((Math.abs(camera.position.x-app.Config.artefacts[i].position.x)<15) && (Math.abs(camera.position.z-app.Config.artefacts[i].position.z)<15))
                {
                    if (app.Config.artefacts[i].visible){
                        app.Config.collectedItems++
                        $('#I_Scroll02').show().css("visibility","").effect( "pulsate", {times:3},1000).text(app.Config.collectedItems);

                        app.Config.ctext.collectedItems=app.Config.collectedItems;
                        app.Config.artefacts[i].visible = false;
                    }
                }}

        }
    }

        if((Math.floor(camera.position.x) < this.Config.myPos.x) || (Math.floor(camera.position.x) > this.Config.myPos.x)) {
            this.Config.myPos.x = Math.floor(camera.position.x);
            willsend = true;
        }
        if((Math.floor(camera.position.y) < this.Config.myPos.y) || (Math.floor(camera.position.y) > this.Config.myPos.y)) {
            this.Config.myPos.y = Math.floor(camera.position.y);
            willsend = true;
        }
        if((Math.floor(camera.position.z) < this.Config.myPos.z) || (Math.floor(camera.position.z) > this.Config.myPos.z)) {
            this.Config.myPos.z = Math.floor(camera.position.z);
            willsend = true;
        }
        if(willsend == true) {
            send(JSON.stringify(this.Config.myPos, replacer));

        }
    }

    var render = function() {
        if (app == undefined) return;
        var delta = app.Config.clock.getDelta();
        var time = app.Config.clock.getElapsedTime();

        app.Config.character.update( delta, false );
        if (app.Config.raven)
            app.Config.raven.update( delta, true );
        if (app.Config.tr)
            app.Config.tr.rotation.y=app.Config.tr.rotation.y+0.05;

        for (var i= 0; i< app.Config.artefacts.length ; i++) {
            app.Config.artefacts[i].rotation.y=app.Config.artefacts[i].rotation.y+0.1;
        }
        if (app.Config.wep)   
        {  
            var h=-1
            var rh=0;
            if (app.Config.attack==true)
            {        

               rh=(time*Math.PI-Math.PI/2)%1;
           }
           app.Config.wep.position.set(app.Config.yawObject.position.x+Math.cos((app.Config.yawObject.rotation.y+Math.PI/2+rh))*4,app.Config.yawObject.position.y+h-rh*2,app.Config.yawObject.position.z-Math.sin((app.Config.yawObject.rotation.y+Math.PI/2+rh))*4);
           app.Config.wep.rotation.set(app.Config.wep.rotation.x,app.Config.yawObject.rotation.y+Math.PI/2+Math.PI,app.Config.wep.rotation.z);
       }
       if (app.Config.sounds[0])app.Config.sounds[0].update( app.Config.yawObject );
       if (app.Config.sounds[1])app.Config.sounds[1].update( app.Config.yawObject );
       if (app.Config.sounds[2])app.Config.sounds[2].update( app.Config.yawObject );
       if (app.Config.sounds[3])app.Config.sounds[3].update( app.Config.yawObject );

        app.Config.Sea.material.uniforms.time.value += delta;
        app.Config.controls.update(Date.now() - time);
     
    var count = 0;

    var v = Math.cos(time / 300) % 1;
    var e = v;
    app.Config.skyUniforms.bottomColor.value.r = e;
    app.Config.skyUniforms.bottomColor.value.g = e;
    app.Config.skyUniforms.bottomColor.value.b = e;
    if (app != undefined)
    app.Config.scene.fog.color.setRGB(e / 2, e / 2, e / 2);
    for(var prop in myJSONUserPosArray2) {
        //console.log(prop);
        var tt = JSON.parse(myJSONUserPosArray2[prop])
        if((    app.Config.lastPosition[prop] != myJSONUserPosArray2[prop]) && (prop != CONFIG.id)) {
            var ry,xc, yc, zc = 0;
            var nick = 'dummy';
            for(var prop2 in tt) {
                if(prop2 = 'nick') {
                    nick = tt[prop2];
                }
                if(prop2 = 'x') {
                    xc = tt[prop2];
                }
                if(prop2 = 'y') {
                    yc = tt[prop2];
                }
                if(prop2 = 'z') {
                    zc = tt[prop2];
                }
                if(prop2 = 'ry') {
                    ry = tt[prop2];
                }
                
            }
/*
    if (loaded[prop]!=prop) {

        var loader = new THREE.ColladaLoader();
        loader.options.convertUpAxis = true;
        loader.load( 'models/avatars/avatar001.dae', function ( collada ) {

        daes[prop] = collada.scene;
        skins[prop] = collada.skins[ 0 ];

        daes[prop].scale.x = daes[prop].scale.y = daes[prop].scale.z = 0.018;
        daes[prop].position.x=5500;
        daes[prop].position.z=2200;

        daes[prop].position.y=getHeight(daes[prop].position.x,daes[prop].position.z,true)-12;
        daes[prop].updateMatrix();

        var canvas1 = document.createElement('canvas');
        var context1 = canvas1.getContext('2d');
        context1.font = "Bold 50px Arial";    
        canvas1.style.width='100px';
        canvas1.style.height='20px';
        context1.fillStyle = "rgba(50,0,100,0.95)";
        context1.fillText(nick, 0, 50);
        
        // canvas contents will be used for a texture
        var texture1 = new THREE.Texture(canvas1) 
        texture1.needsUpdate = true;

        var material1 = new THREE.MeshBasicMaterial( {map: texture1, alphaTest: 0.5, side:THREE.DoubleSide } );
        material1.transparent = true;

        mesh1s[prop] = new THREE.Mesh(
            new THREE.PlaneGeometry(20,8),
            material1
            );
        mesh1s[prop].position.set(daes[prop].position.x+20,daes[prop].position.y+30,daes[prop].position.z);
        app.Config.scene.add( mesh1s[prop] );
        app.Config.scene.add( daes[prop] );
        loaded[prop]=prop;
        loaded[CONFIG.id]=CONFIG.id;
    });
}    




            if (daes[prop]) {
                daes[prop].position.x=xc;
                daes[prop].position.z=zc;
                daes[prop].position.y=yc;
                daes[prop].rotation.y=-ry;
                mesh1s[prop].position.x=daes[prop].position.x+10;
                mesh1s[prop].position.y=daes[prop].position.y+30;
                mesh1s[prop].position.z=daes[prop].position.z;
            }*/
        }
        app.Config.lastPosition[prop] = myJSONUserPosArray2[prop]

    }
    app.Config.Sunlight.position.x =  app.Config.yawObject.position.x+(Math.cos((time + 200 ) / 200) * 390);
    app.Config.lensFlare.position.x = app.Config.yawObject.position.x+(Math.cos((time + 200 ) / 200) * 390);

    app.Config.Sunlight.position.z =  app.Config.yawObject.position.z;
    app.Config.lensFlare.position.z =  app.Config.yawObject.position.z;

    app.Config.Sunlight.position.y = (Math.sin((time + 200 ) / 200) * 390);
    app.Config.lensFlare.position.y = (Math.sin((time + 200 ) / 200) * 390);
    app.Config.sky.position = app.Config.yawObject.position;
    app.Config.SeaMesh.position.x = app.Config.yawObject.position.x;
    app.Config.SeaMesh.position.z = app.Config.yawObject.position.z;
    
    app.Config.particleGroup.tick( delta );

    var windDirection = new THREE.Vector3(0.8, 0.1, 0.1);
    if (noiseShader!=null) {
        noiseShader.uniforms["fTime"].value += delta * noiseSpeed;
        noiseShader.uniforms["vOffset"].value.x -= (delta * noiseOffsetSpeed) * windDirection.x;
        noiseShader.uniforms["vOffset"].value.y += (delta * noiseOffsetSpeed) * windDirection.z;
        this.Config.renderer.render(noiseScene, noiseCameraOrtho, noiseMap, true);
    }
    if (app != undefined)
    this.Config.renderer.render(app.Config.scene, app.Config.camera);

    time = Date.now();
};
var runner;
    function answer(answerIdx){
        runner.answer(answerIdx);
        runner.dialogTree().node() && $( "#dialog" ).dialog( "open" ).html(runner.displayNode());
    }

var initScene = function() {


    var url     = 'js/dialog/datadialog.json';
    runner  = new DialogTreeRunnerConsole().loadSync(url);
    $( "#dialog" ).dialog({ autoOpen: false });

    this.Config.sound1 = new Sound( [ 'sounds/sword.mp3'], 275, 1 );

    for (var i=0;i<10;i++) {
        for (var j=0;j<10;j++){
            var imgPath = 'http://'+document.location.host+'/orpgl-mapgen/images/tile_'+j+'_'+i+'.jpg' ;
            var img = new Image();
            img.src = imgPath;
            img.xx = j;
            img.zz = i;
            img.onload = function(){
                var ctx = document.getElementById('tile_'+this.zz+'_'+this.xx).getContext('2d');
                ctx.drawImage(this,0,0,512,512);
            }
        }
    }

    var FizzyText = function() {
        this.collectedItems = 0;
        this.health = 100;
    };

    this.Config.ctext = new FizzyText();
    var gui = new dat.GUI();
    gui.add(this.Config.ctext, 'collectedItems').listen();
    gui.add(this.Config.ctext, 'health').min(0).max(100).listen();

    gui.domElement.style.position = 'absolute';
    gui.domElement.style.top = '0px';
    gui.domElement.style.right = '330px';

    document.body.appendChild(gui.domElement);

    this.Config.clock = new THREE.Clock();

    // RENDERER
    this.Config.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    this.Config.renderer.setSize(window.innerWidth, window.innerHeight);

    var container = document.createElement('div');
    document.body.appendChild(container);
    container.appendChild(this.Config.renderer.domElement);

    // SCENE
    this.Config.scene = new THREE.Scene;

    // CAMERA & FRUSTUM
    this.Config.camera = new THREE.PerspectiveCamera(
        35,
        window.innerWidth / window.innerHeight,
        1,
        100000
        );
    this.Config.camera.position.set(60, 50, 60);
    this.Config.camera.lookAt(this.Config.scene.position);
    this.Config.scene.add(this.Config.camera);
    this.Config.frustum = new THREE.Frustum();
    
    // FOG
    this.Config.scene.fog = new THREE.Fog(0xffffaa, 1, 5000);
    
    // LIGHTS
    var hemiLight = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.6);
    hemiLight.color.setHSL(0.6, 1, 0.6);
    hemiLight.groundColor.setHSL(0.095, 1, 0.75);
    hemiLight.position.set(0, 500, 0);
    this.Config.scene.add(hemiLight);

    this.Config.skyUniforms = {
        topColor   : { type: "c", value: new THREE.Color(0x0077ff) },
        bottomColor: { type: "c", value: new THREE.Color(0xffffff) },
        offset     : { type: "f", value: 33 },
        exponent   : { type: "f", value: 0.6 }
    }
    this.Config.skyUniforms.topColor.value.copy(hemiLight.color);    

    var skyGeo = new THREE.SphereGeometry(9000, 32, 15);
    var skyMat = new THREE.ShaderMaterial({ vertexShader: skyVertexShader, fragmentShader: skyFragmentShader, uniforms: this.Config.skyUniforms, side: THREE.BackSide });

    this.Config.sky = new THREE.Mesh(skyGeo, skyMat);
    this.Config.scene.add(this.Config.sky);

    // FOG COLOR
    this.Config.scene.fog.color.copy(this.Config.skyUniforms.bottomColor.value);

    // LENS FLARE / SUN
    var textureFlare0 = loadImage("textures/lensflare001.png");
    addLight(0.55, 0.9, 0.5, 0, 290, 0, textureFlare0,this);

    // MISC
    this.Config.camera.position.set(this.Config.myPos.x, this.Config.myPos.y, this.Config.myPos.z);
    
    //CONTROLS
    this.Config.controls = new THREE.PointerLockControls(this);
    this.Config.scene.add(this.Config.controls.getObject());

    //NATURE

    var loader = new THREE.OBJLoader( );

    for(var index in nature_) {
        var fobj=nature_[index].obj;
        var ftext = new THREE.MeshBasicMaterial({ map: loadImage(nature_[index].png),
         transparent: true, 
         alphaTest: 0.5,side: 
         THREE.DoubleSide
     });
        loader.load( fobj, function ( object , ftext) {
            object.traverse( function ( child ) {
                if ( child instanceof THREE.Mesh ) {
                    child.material = ftext;
                    child.rotation.y = THREE.Math.randFloat(-0.5, 10.5);
                    var xz = THREE.Math.randFloat(.6, .8)
                    child.scale.set(xz, .7, xz);
                    this.Config.nature_models.push(child);
                }
            });
        },null,null,ftext);
    }

    //SEA
    var noiseTexture = new loadImage('textures/maelstrom001.png');
    noiseTexture.wrapS = noiseTexture.wrapT = THREE.RepeatWrapping;

    this.Config.Sea = new THREE.FlatMirror(this.Config.renderer, this.Config.camera, {
        clipBias    : 1,
        textureWidth: 800, textureHeight: 600,
        color       : 0x333366,
        baseTexture : loadImage("textures/water001.png"),
        baseSpeed   : 0.01,
        noiseTexture: noiseTexture,
        noiseScale  : 0.2,
        alpha       : 0.7,
        time        : 0.0,
    });

    this.Config.SeaMesh = new THREE.Mesh(
        new THREE.PlaneGeometry(10000, 10000, 100, 100),
        this.Config.Sea.material
        );
    this.Config.SeaMesh.add(this.Config.Sea);

    this.Config.SeaMesh.applyMatrix(new THREE.Matrix4().makeRotationX(-Math.PI / 2));
    this.Config.SeaMesh.position.set(0, -60, 0);
    this.Config.scene.add(this.Config.SeaMesh);

    // GROUD
    var oceanTexture = new loadImage( '/orpgl-mapgen/images/dirt-512.jpg' );
    oceanTexture.wrapS = oceanTexture.wrapT = THREE.RepeatWrapping; 
    
    var sandyTexture = new loadImage( '/orpgl-mapgen/images/sand-512.jpg' );
    sandyTexture.wrapS = sandyTexture.wrapT = THREE.RepeatWrapping; 
    
    var grassTexture = new loadImage( '/orpgl-mapgen/images/grass-512.jpg' );
    grassTexture.wrapS = grassTexture.wrapT = THREE.RepeatWrapping; 
    
    var rockyTexture = new loadImage( '/orpgl-mapgen/images/rock-512.jpg' );
    rockyTexture.wrapS = rockyTexture.wrapT = THREE.RepeatWrapping; 
    
    var snowyTexture = new loadImage( '/orpgl-mapgen/images/snow-512.jpg' );
    snowyTexture.wrapS = snowyTexture.wrapT = THREE.RepeatWrapping; 

    var planeGeo = new THREE.PlaneGeometry( 1024, 1024, 64,64 );

    var earthFlatGeo = new THREE.PlaneGeometry( 100000, 100000, 4,4 );

    var earthFlat = new THREE.Mesh( earthFlatGeo, new THREE.MeshBasicMaterial({ map : loadImage("/textures/water001.png") }) );
    earthFlat.rotation.x = -Math.PI / 2;
    earthFlat.position.y = -64;
    this.Config.scene.add( earthFlat );        
    
    var k = 0;
    for (var i=0;i<10;i++) {
        for (var j=0;j<10;j++){

            var imgPath = 'http://'+document.location.host+'/orpgl-mapgen/images/tile_'+j+'_'+i+'.jpg' ;
            this.Config.imgTilePaths[k++] = imgPath;
            
            var texture = new loadImage(imgPath);
            
            var uniforms = {
                heightMap:  { type: "t", value: texture },
                heightScale:        { type: "f", value: this.Config.heightScale },
                oceanTexture:   { type: "t", value: oceanTexture },
                sandyTexture:   { type: "t", value: sandyTexture },
                grassTexture:   { type: "t", value: grassTexture },
                rockyTexture:   { type: "t", value: rockyTexture },
                snowyTexture:   { type: "t", value: snowyTexture },
                fogColor:    { type: "c", value: 0xffffaa },
                fogNear:     { type: "f", value: 1 },
                fogFar:      { type: "f", value: 100 },
            };

            var material = new THREE.ShaderMaterial( 
            {
                uniforms: uniforms,
                vertexShader:   tiledVertexShader,
                fragmentShader: tiledFragmentShader,
                fog:true
            }   );

            var plane = new THREE.Mesh( planeGeo, material );
            plane.rotation.x = -Math.PI / 2;
            plane.position.y = -100;
            plane.position.z = (1007*j)+512;
            plane.position.x = (1007*i)+512;
            this.Config.scene.add( plane );        
        }
    }

    this.Config.renderer.setClearColor(0xFFFFFF);
    
    //CLOUDS
    launchClouds(this);

    loadI = setInterval("if (app.Config.lazyloaded==178) {clearInterval(loadI);lt=0;if(CONFIG.data.length>0){app.Config.yawObject.rotation.y=JSON.parse(CONFIG.data[0].data).ry;app.Config.yawObject.position.x=JSON.parse(CONFIG.data[0].data).x;app.Config.yawObject.position.z=JSON.parse(CONFIG.data[0].data).z;}loadNature();play('/js/audio/jasmid/bjorn__lynne-_the_fairy_woods.mid');$('#wait').hide();app.Config.lastheight = getHeight(app.Config.yawObject.position.x,app.Config.yawObject.position.z,true)+1;}",1000);


    var config = {

        baseUrl: "models/avatars/",

        body: "knight.js",
        skins: [ "knight.jpg"],
        weapons:  [ 
        ["knightweapon.js","knightweapon.png"]
        ]

    };

    this.Config.character = new THREE.MD2Character();
    this.Config.character.scale = 3;
    this.Config.character.loadParts( config );
    this.Config.character.root.scale.set(0.18,0.18,0.18);

    this.Config.scene.add( this.Config.character.root );  
    animate();
};

function launchClouds(application) {
   var texture = loadImage('textures/clouds001.png');
   texture.magFilter = THREE.LinearMipMapLinearFilter;
   texture.minFilter = THREE.LinearMipMapLinearFilter;

   application.Config.particleGroup = new ShaderParticleGroup({
        texture: texture,
        maxAge: 100
    });

   application.Config.emitter = new ShaderParticleEmitter({
        position: new THREE.Vector3(5500, 300, 2200),
        positionSpread: new THREE.Vector3(10000, 0, 10000),

        colorStart: new THREE.Color(0x000000),
        colorSpread: new THREE.Vector3(-1, -1, -1),
        colorEnd: new THREE.Color(0x000000),
        size: 5000,
        sizeSpread: 0,
        opacityStart: 0,
        opacityMiddle: 0.35,
        opacityEnd: 0,

        particlesPerSecond: 2,
    });

   application.Config.particleGroup.addEmitter( application.Config.emitter );
   application.Config.scene.add( application.Config.particleGroup.mesh );
}

